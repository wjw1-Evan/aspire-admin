---
globs: *.cs
description: C# åç«¯å¼€å‘è§„èŒƒå’Œæœ€ä½³å®è·µ
---

# C# åç«¯å¼€å‘è§„èŒƒ

## ğŸ¯ æ ¸å¿ƒåŸåˆ™

**éµå¾ª .NET 10 å’Œ C# 13 æœ€ä½³å®è·µï¼Œç¡®ä¿ä»£ç è´¨é‡ã€æ€§èƒ½å’Œå¯ç»´æŠ¤æ€§**

## ğŸ“ XML æ–‡æ¡£æ³¨é‡Šè§„èŒƒï¼ˆå¼ºåˆ¶è¦æ±‚ï¼‰

### ğŸš¨ å¼ºåˆ¶è¦æ±‚

**æ‰€æœ‰å…¬å…±ç±»å‹å’Œæˆå‘˜å¿…é¡»åŒ…å«å®Œæ•´çš„ XML æ–‡æ¡£æ³¨é‡Šï¼Œè¿™æ˜¯å¼ºåˆ¶è¦æ±‚ï¼Œä¸å…è®¸ä¾‹å¤–ã€‚**

**âš ï¸ é‡è¦æç¤º**ï¼šXML æ–‡æ¡£æ³¨é‡Šæ˜¯ .NET 10 OpenAPI + Scalar API æ–‡æ¡£ç”Ÿæˆçš„åŸºç¡€ï¼Œç¼ºå¤±æ³¨é‡Šä¼šå¯¼è‡´ï¼š

- Scalar API æ–‡æ¡£ä¸­ç¼ºå°‘æ¥å£è¯´æ˜
- æ— æ³•æ­£ç¡®ç”Ÿæˆ OpenAPI Schema
- é™ä½ä»£ç å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§
- è¿åé¡¹ç›®ä»£ç è´¨é‡æ ‡å‡†

**âœ… é¡¹ç›®å·²å®ç°**ï¼šæ‰€æœ‰ C# ä»£ç æ–‡ä»¶ï¼ˆ1082+ ä¸ªå…¬å…±æˆå‘˜ï¼‰å·²æ·»åŠ å®Œæ•´çš„ XML æ–‡æ¡£æ³¨é‡Šï¼Œç¼–è¯‘æ—¶æ—  CS1591 è­¦å‘Šã€‚

### å¿…é¡»æ·»åŠ  XML æ³¨é‡Šçš„å…ƒç´ 

ä»¥ä¸‹æ‰€æœ‰å…¬å…±å…ƒç´ **å¿…é¡»**åŒ…å« XML æ³¨é‡Šï¼š

1. **å…¬å…±ç±»ï¼ˆpublic classï¼‰**
2. **å…¬å…±æ¥å£ï¼ˆpublic interfaceï¼‰**
3. **å…¬å…±æšä¸¾ï¼ˆpublic enumï¼‰**
4. **å…¬å…±ç»“æ„ä½“ï¼ˆpublic structï¼‰**
5. **å…¬å…±æ–¹æ³•ï¼ˆpublic methodï¼‰**
6. **å…¬å…±å±æ€§ï¼ˆpublic propertyï¼‰**
7. **å…¬å…±å­—æ®µï¼ˆpublic fieldï¼‰**
8. **å…¬å…±äº‹ä»¶ï¼ˆpublic eventï¼‰**
9. **æ„é€ å‡½æ•°ï¼ˆconstructorï¼‰**
10. **æ³›å‹ç±»å‹å‚æ•°ï¼ˆtype parametersï¼‰**

### XML æ³¨é‡Šæ ¼å¼è§„èŒƒ

```csharp
/// <summary>
/// ç±»çš„ç®€è¦æè¿°
/// </summary>
public class MyClass
{
    /// <summary>
    /// å±æ€§çš„æè¿°
    /// </summary>
    public string MyProperty { get; set; }
    
    /// <summary>
    /// æ–¹æ³•çš„æè¿°
    /// </summary>
    /// <param name="param1">å‚æ•°1çš„æè¿°</param>
    /// <param name="param2">å‚æ•°2çš„æè¿°</param>
    /// <returns>è¿”å›å€¼çš„æè¿°</returns>
    /// <exception cref="ArgumentException">å½“å‚æ•°æ— æ•ˆæ—¶æŠ›å‡º</exception>
    public string MyMethod(string param1, int param2)
    {
        // å®ç°
    }
}
```

### æ§åˆ¶å™¨æ–¹æ³•æ³¨é‡Š

```csharp
/// <summary>
/// è·å–ç”¨æˆ·ä¿¡æ¯
/// </summary>
/// <param name="id">ç”¨æˆ·ID</param>
/// <returns>ç”¨æˆ·è¯¦ç»†ä¿¡æ¯</returns>
/// <remarks>
/// ç¤ºä¾‹è¯·æ±‚ï¼š
/// GET /api/user/123
///
/// ç¤ºä¾‹å“åº”ï¼š
/// ```json
/// {
///   "id": "123",
///   "username": "admin"
/// }
/// ```
/// </remarks>
[HttpGet("{id}")]
public async Task<IActionResult> GetUser(string id)
{
    // å®ç°
}
```

### æœåŠ¡æ¥å£å’Œå®ç°æ³¨é‡Š

```csharp
/// <summary>
/// ç”¨æˆ·æœåŠ¡æ¥å£
/// </summary>
public interface IUserService
{
    /// <summary>
    /// æ ¹æ®IDè·å–ç”¨æˆ·
    /// </summary>
    /// <param name="id">ç”¨æˆ·ID</param>
    /// <returns>ç”¨æˆ·ä¿¡æ¯ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¿”å› null</returns>
    Task<User?> GetUserByIdAsync(string id);
}

/// <summary>
/// ç”¨æˆ·æœåŠ¡å®ç°
/// </summary>
public class UserService : IUserService
{
    /// <summary>
    /// åˆå§‹åŒ–ç”¨æˆ·æœåŠ¡
    /// </summary>
    /// <param name="userFactory">ç”¨æˆ·æ•°æ®æ“ä½œå·¥å‚</param>
    /// <param name="logger">æ—¥å¿—è®°å½•å™¨</param>
    public UserService(
        IDatabaseOperationFactory<User> userFactory,
        ILogger<UserService> logger)
    {
        // å®ç°
    }
    
    /// <summary>
    /// æ ¹æ®IDè·å–ç”¨æˆ·
    /// </summary>
    /// <param name="id">ç”¨æˆ·ID</param>
    /// <returns>ç”¨æˆ·ä¿¡æ¯ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¿”å› null</returns>
    public async Task<User?> GetUserByIdAsync(string id)
    {
        // å®ç°
    }
}
```

### æ¨¡å‹ç±»æ³¨é‡Š

```csharp
/// <summary>
/// ç”¨æˆ·å®ä½“
/// </summary>
public class User : BaseEntity
{
    /// <summary>
    /// ç”¨æˆ·åï¼ˆ3-50ä¸ªå­—ç¬¦ï¼Œæ”¯æŒå­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ï¼‰
    /// </summary>
    public string Username { get; set; } = string.Empty;
    
    /// <summary>
    /// é‚®ç®±åœ°å€ï¼ˆå¿…é¡»æ˜¯æœ‰æ•ˆçš„é‚®ç®±æ ¼å¼ï¼‰
    /// </summary>
    public string Email { get; set; } = string.Empty;
}

/// <summary>
/// åˆ›å»ºç”¨æˆ·è¯·æ±‚
/// </summary>
public class CreateUserRequest
{
    /// <summary>
    /// ç”¨æˆ·åï¼ˆ3-50ä¸ªå­—ç¬¦ï¼Œæ”¯æŒå­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ï¼‰
    /// </summary>
    /// <example>admin</example>
    [Required]
    public string Username { get; set; } = string.Empty;
    
    /// <summary>
    /// é‚®ç®±åœ°å€ï¼ˆå¿…é¡»æ˜¯æœ‰æ•ˆçš„é‚®ç®±æ ¼å¼ï¼‰
    /// </summary>
    /// <example>admin@example.com</example>
    [Required]
    [EmailAddress]
    public string Email { get; set; } = string.Empty;
}
```

### æšä¸¾æ³¨é‡Š

```csharp
/// <summary>
/// ç”¨æˆ·çŠ¶æ€æšä¸¾
/// </summary>
public enum UserStatus
{
    /// <summary>
    /// æ´»è·ƒçŠ¶æ€
    /// </summary>
    Active,
    
    /// <summary>
    /// åœç”¨çŠ¶æ€
    /// </summary>
    Inactive,
    
    /// <summary>
    /// å¾…å®¡æ ¸çŠ¶æ€
    /// </summary>
    Pending
}
```

### æ³›å‹ç±»å‹æ³¨é‡Š

```csharp
/// <summary>
/// åˆ†é¡µç»“æœæ¨¡å‹
/// </summary>
/// <typeparam name="T">æ•°æ®ç±»å‹</typeparam>
public class PagedResult<T>
{
    /// <summary>
    /// æ•°æ®åˆ—è¡¨
    /// </summary>
    public List<T> Items { get; set; } = new();
    
    /// <summary>
    /// æ€»è®°å½•æ•°
    /// </summary>
    public long Total { get; set; }
}
```

### âŒ ç¦æ­¢çš„åšæ³•

```csharp
// âŒ é”™è¯¯ï¼šå…¬å…±ç±»ç¼ºå°‘ XML æ³¨é‡Š
public class UserService : IUserService
{
    // æ²¡æœ‰æ³¨é‡Š
}

// âŒ é”™è¯¯ï¼šå…¬å…±æ–¹æ³•ç¼ºå°‘ XML æ³¨é‡Š
public async Task<User> GetUserAsync(string id)
{
    // æ²¡æœ‰æ³¨é‡Š
}

// âŒ é”™è¯¯ï¼šå…¬å…±å±æ€§ç¼ºå°‘ XML æ³¨é‡Š
public string Username { get; set; }

// âŒ é”™è¯¯ï¼šæ„é€ å‡½æ•°ç¼ºå°‘ XML æ³¨é‡Š
public UserService(IUserFactory factory)
{
    // æ²¡æœ‰æ³¨é‡Š
}
```

### âœ… æ­£ç¡®åšæ³•

```csharp
/// <summary>
/// ç”¨æˆ·æœåŠ¡å®ç°
/// </summary>
public class UserService : IUserService
{
    /// <summary>
    /// åˆå§‹åŒ–ç”¨æˆ·æœåŠ¡
    /// </summary>
    /// <param name="factory">ç”¨æˆ·æ•°æ®æ“ä½œå·¥å‚</param>
    public UserService(IDatabaseOperationFactory<User> factory)
    {
        // å®ç°
    }
    
    /// <summary>
    /// æ ¹æ®IDè·å–ç”¨æˆ·
    /// </summary>
    /// <param name="id">ç”¨æˆ·ID</param>
    /// <returns>ç”¨æˆ·ä¿¡æ¯ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¿”å› null</returns>
    public async Task<User?> GetUserAsync(string id)
    {
        // å®ç°
    }
    
    /// <summary>
    /// ç”¨æˆ·åï¼ˆ3-50ä¸ªå­—ç¬¦ï¼‰
    /// </summary>
    public string Username { get; set; }
}
```

### ä»£ç å®¡æŸ¥æ£€æŸ¥æ¸…å•

åœ¨æäº¤ä»£ç å‰ï¼Œå¿…é¡»æ£€æŸ¥ï¼š

- [ ] **æ‰€æœ‰å…¬å…±ç±»éƒ½æœ‰ `<summary>` æ³¨é‡Š**
- [ ] **æ‰€æœ‰å…¬å…±æ¥å£éƒ½æœ‰ `<summary>` æ³¨é‡Š**
- [ ] **æ‰€æœ‰å…¬å…±æšä¸¾éƒ½æœ‰ `<summary>` æ³¨é‡Šï¼Œæ¯ä¸ªæšä¸¾å€¼ä¹Ÿæœ‰æ³¨é‡Š**
- [ ] **æ‰€æœ‰å…¬å…±æ–¹æ³•éƒ½æœ‰ `<summary>` æ³¨é‡Š**
- [ ] **æ‰€æœ‰æ–¹æ³•å‚æ•°éƒ½æœ‰ `<param>` æ³¨é‡Š**
- [ ] **æ‰€æœ‰æœ‰è¿”å›å€¼çš„æ–¹æ³•éƒ½æœ‰ `<returns>` æ³¨é‡Š**
- [ ] **æ‰€æœ‰å¯èƒ½æŠ›å‡ºå¼‚å¸¸çš„æ–¹æ³•éƒ½æœ‰ `<exception>` æ³¨é‡Š**
- [ ] **æ‰€æœ‰å…¬å…±å±æ€§éƒ½æœ‰ `<summary>` æ³¨é‡Š**
- [ ] **æ‰€æœ‰æ„é€ å‡½æ•°éƒ½æœ‰ `<summary>` å’Œ `<param>` æ³¨é‡Š**
- [ ] **æ‰€æœ‰æ³›å‹ç±»å‹éƒ½æœ‰ `<typeparam>` æ³¨é‡Š**
- [ ] **ç¼–è¯‘æ—¶æ²¡æœ‰ XML æ³¨é‡Šè­¦å‘Šï¼ˆCS1591ï¼‰**

### éªŒè¯æ–¹æ³•

```bash
# ç¼–è¯‘é¡¹ç›®ï¼Œæ£€æŸ¥æ˜¯å¦æœ‰ XML æ³¨é‡Šè­¦å‘Š
dotnet build

# åº”è¯¥çœ‹åˆ°ç±»ä¼¼è­¦å‘Šï¼ˆå¦‚æœæœ‰ç¼ºå¤±çš„æ³¨é‡Šï¼‰ï¼š
# warning CS1591: ç¼ºå°‘å¯¹å…¬å…±å¯è§ç±»å‹æˆ–æˆå‘˜"XXX"çš„ XML æ³¨é‡Š
```

### é¡¹ç›®é…ç½®è¦æ±‚

ç¡®ä¿é¡¹ç›®æ–‡ä»¶ä¸­å¯ç”¨äº† XML æ–‡æ¡£ç”Ÿæˆï¼š

```xml
<PropertyGroup>
  <TargetFramework>net10.0</TargetFramework>
  <ImplicitUsings>enable</ImplicitUsings>
  <Nullable>enable</Nullable>
  <GenerateDocumentationFile>true</GenerateDocumentationFile>
  <NoWarn>$(NoWarn);1591</NoWarn>
</PropertyGroup>
```

**âš ï¸ é‡è¦æç¤º**ï¼šé¡¹ç›®ç»Ÿä¸€åœ¨ `.csproj` ä¸­åŒ…å« `<NoWarn>$(NoWarn);1591</NoWarn>`ï¼Œç”¨äºå±è”½ç¬¬ä¸‰æ–¹ä¾èµ–å¸¦æ¥çš„å™ªå£°è­¦å‘Šã€‚è¿™å¹¶ä¸æ„å‘³ç€å¯ä»¥å¿½ç•¥æ³¨é‡Šç¼–å†™ï¼Œæ–°å¢æˆ–ä¿®æ”¹å…¬å…±æˆå‘˜æ—¶ä»å¿…é¡»è¡¥é½ XML æ³¨é‡Šï¼›æäº¤å‰åŠ¡å¿…è‡ªæŸ¥å¹¶åœ¨ä»£ç å®¡æŸ¥ä¸­éªŒè¯æ— é—æ¼ã€‚

## ğŸ“ é¡¹ç›®ç»“æ„è§„èŒƒ

### æœåŠ¡å±‚æ¶æ„

```
Platform.ApiService/
â”œâ”€â”€ Controllers/          # API æ§åˆ¶å™¨
â”œâ”€â”€ Services/            # ä¸šåŠ¡é€»è¾‘æœåŠ¡
â”œâ”€â”€ Models/              # æ•°æ®æ¨¡å‹å’Œ DTO
â”œâ”€â”€ Validators/          # å‚æ•°éªŒè¯å™¨
â”œâ”€â”€ Extensions/          # æ‰©å±•æ–¹æ³•
â”œâ”€â”€ Constants/           # å¸¸é‡å®šä¹‰
â”œâ”€â”€ Scripts/             # æ•°æ®è„šæœ¬
â””â”€â”€ Program.cs           # åº”ç”¨å…¥å£
```

### å‘½åè§„èŒƒ

```csharp
// âœ… æ¥å£å‘½å
public interface IUserService { }

// âœ… æœåŠ¡å®ç°å‘½å
public class UserService : IUserService { }

// âœ… æ§åˆ¶å™¨å‘½å
public class UserController : BaseApiController { }

// âœ… æ¨¡å‹å‘½å
public class User : BaseEntity { }
public class CreateUserRequest { }
public class UserResponse { }

// âœ… å¸¸é‡å‘½å
public static class UserConstants
{
    public const string ACTIVE_STATUS = "active";
    public const string PENDING_STATUS = "pending";
}
```

## ğŸ”§ ä»£ç è§„èŒƒ

### 1. æ§åˆ¶å™¨è§„èŒƒ

```csharp
/// <summary>
/// ç”¨æˆ·ç®¡ç†æ§åˆ¶å™¨
/// </summary>
[ApiController]
[Route("api/[controller]")]
[Authorize]
public class UserController : BaseApiController
{
    private readonly IUserService _userService;

    public UserController(IUserService userService)
    {
        _userService = userService;
    }

    /// <summary>
    /// è·å–ç”¨æˆ·åˆ—è¡¨
    /// </summary>
    /// <param name="request">æŸ¥è¯¢å‚æ•°</param>
    /// <returns>ç”¨æˆ·åˆ—è¡¨</returns>
    [HttpGet]
    public async Task<IActionResult> GetUsers([FromQuery] UserListRequest request)
    {
        var users = await _userService.GetUsersAsync(request);
        return Success(users);
    }
}
```

### 2. æœåŠ¡å±‚è§„èŒƒ

```csharp
/// <summary>
/// ç”¨æˆ·æœåŠ¡æ¥å£
/// </summary>
public interface IUserService
{
    Task<List<User>> GetUsersAsync(UserListRequest request);
    Task<User?> GetUserByIdAsync(string id);
    Task<User> CreateUserAsync(CreateUserRequest request);
    Task<bool> UpdateUserAsync(string id, UpdateUserRequest request);
    Task<bool> DeleteUserAsync(string id);
}

/// <summary>
/// ç”¨æˆ·æœåŠ¡å®ç°
/// </summary>
public class UserService : IUserService
{
    private readonly IDatabaseOperationFactory<User> _userFactory;
    private readonly ILogger<UserService> _logger;

    public UserService(
        IDatabaseOperationFactory<User> userFactory,
        ILogger<UserService> logger)
    {
        _userFactory = userFactory;
        _logger = logger;
    }

    public async Task<List<User>> GetUsersAsync(UserListRequest request)
    {
        try
        {
            var filter = _userFactory.CreateFilterBuilder()
                .Equal(u => u.IsActive, true)
                .Build();
            
            var users = await _userFactory.FindAsync(filter);
            return users.ToList();
        }
        catch (Exception ex)
        {
            _logger.LogError(ex, "è·å–ç”¨æˆ·åˆ—è¡¨å¤±è´¥");
            throw;
        }
    }
}
```

### 3. æ¨¡å‹å®šä¹‰è§„èŒƒ

```csharp
/// <summary>
/// ç”¨æˆ·å®ä½“
/// </summary>
public class User : BaseEntity, 
    Platform.ServiceDefaults.Models.IEntity,
    Platform.ServiceDefaults.Models.ISoftDeletable,
    Platform.ServiceDefaults.Models.ITimestamped
{
    [BsonId]
    [BsonRepresentation(BsonType.ObjectId)]
    public string Id { get; set; } = string.Empty;

    [BsonElement("username")]
    [Required]
    [StringLength(50, MinimumLength = 3)]
    public string Username { get; set; } = string.Empty;

    [BsonElement("email")]
    [Required]
    [EmailAddress]
    public string Email { get; set; } = string.Empty;

    [BsonElement("isActive")]
    public bool IsActive { get; set; } = true;

    [BsonElement("createdAt")]
    public DateTime CreatedAt { get; set; } = DateTime.UtcNow;

    [BsonElement("updatedAt")]
    public DateTime UpdatedAt { get; set; } = DateTime.UtcNow;

    [BsonElement("isDeleted")]
    public bool IsDeleted { get; set; } = false;
}

/// <summary>
/// åˆ›å»ºç”¨æˆ·è¯·æ±‚
/// </summary>
public class CreateUserRequest
{
    [Required]
    [StringLength(50, MinimumLength = 3)]
    public string Username { get; set; } = string.Empty;

    [Required]
    [EmailAddress]
    public string Email { get; set; } = string.Empty;

    [Required]
    [MinLength(6)]
    public string Password { get; set; } = string.Empty;
}
```

## ğŸš« ç¦æ­¢çš„åšæ³•

### 1. ä¸è¦ç›´æ¥ä½¿ç”¨ IMongoCollection

```csharp
// âŒ ç¦æ­¢ï¼šç›´æ¥ä½¿ç”¨ IMongoCollection
private readonly IMongoCollection<User> _users;

// âœ… æ­£ç¡®ï¼šä½¿ç”¨ IDatabaseOperationFactory
private readonly IDatabaseOperationFactory<User> _userFactory;
```

### 2. ä¸è¦æ‰‹åŠ¨å¤„ç†å¼‚å¸¸

```csharp
// âŒ ç¦æ­¢ï¼šæ‰‹åŠ¨ try-catch
try
{
    var result = await _service.DoSomething();
    return Ok(new { success = true, data = result });
}
catch (Exception ex)
{
    return StatusCode(500, new { success = false, error = ex.Message });
}

// âœ… æ­£ç¡®ï¼šæŠ›å‡ºå¼‚å¸¸ï¼Œç”± UseExceptionHandler() + ProblemDetails ç®¡é“ç»Ÿä¸€å¤„ç†
var result = await _service.DoSomething();
return Success(result);
```

### 3. ä¸è¦æ‰‹åŠ¨æ„å»ºå“åº”æ ¼å¼

```csharp
// âŒ ç¦æ­¢ï¼šæ‰‹åŠ¨æ„å»ºå“åº”
return Ok(new { success = true, data = result });

// âœ… æ­£ç¡®ï¼šä½¿ç”¨åŸºç±»æ–¹æ³•
return Success(result);
```

### 4. ä¸è¦æ‰‹åŠ¨æå–ç”¨æˆ·ä¿¡æ¯

```csharp
// âŒ ç¦æ­¢ï¼šæ‰‹åŠ¨æå–ç”¨æˆ·ä¿¡æ¯
var userId = User.FindFirst("userId")?.Value;
if (string.IsNullOrEmpty(userId))
    return Unauthorized();

// âœ… æ­£ç¡®ï¼šä½¿ç”¨åŸºç±»æ–¹æ³•
var userId = GetRequiredUserId();
```

## ğŸ” å¼‚å¸¸å¤„ç†è§„èŒƒ

### 1. ä½¿ç”¨æ ‡å‡†å¼‚å¸¸ç±»å‹

```csharp
// âœ… ç”¨æˆ·ä¸å­˜åœ¨
throw new KeyNotFoundException($"ç”¨æˆ· {userId} ä¸å­˜åœ¨");

// âœ… å‚æ•°é”™è¯¯
throw new ArgumentException("ç”¨æˆ·åä¸èƒ½ä¸ºç©º");

// âœ… æƒé™ä¸è¶³
throw new UnauthorizedAccessException("éœ€è¦ç®¡ç†å‘˜æƒé™");

// âœ… ä¸šåŠ¡é€»è¾‘é”™è¯¯
throw new InvalidOperationException("ç”¨æˆ·å·²å­˜åœ¨");
```

### 2. å¼‚å¸¸æ¶ˆæ¯è§„èŒƒ

```csharp
// âœ… åŒ…å«ä¸Šä¸‹æ–‡ä¿¡æ¯
throw new KeyNotFoundException($"ç”¨æˆ· {userId} ä¸å­˜åœ¨");

// âœ… ä½¿ç”¨å¸¸é‡å®šä¹‰é”™è¯¯æ¶ˆæ¯
throw new ArgumentException(UserErrorMessages.UsernameRequired);

// âœ… æä¾›è§£å†³å»ºè®®
throw new InvalidOperationException("ç”¨æˆ·å·²å­˜åœ¨ï¼Œè¯·ä½¿ç”¨å…¶ä»–ç”¨æˆ·å");
```

## ğŸ“ æ—¥å¿—è®°å½•è§„èŒƒ

### 1. ç»“æ„åŒ–æ—¥å¿—

```csharp
// âœ… ä½¿ç”¨ç»“æ„åŒ–æ—¥å¿—
_logger.LogInformation("ç”¨æˆ· {UserId} ç™»å½•æˆåŠŸï¼ŒIP: {IpAddress}", userId, ipAddress);

// âœ… è®°å½•æ“ä½œæ—¥å¿—
_logger.LogInformation("åˆ›å»ºç”¨æˆ·: {Username}, é‚®ç®±: {Email}", username, email);

// âœ… è®°å½•é”™è¯¯æ—¥å¿—
_logger.LogError(ex, "ç”¨æˆ· {UserId} ç™»å½•å¤±è´¥", userId);
```

### 2. æ—¥å¿—çº§åˆ«ä½¿ç”¨

```csharp
// âœ… Trace - è¯¦ç»†çš„è°ƒè¯•ä¿¡æ¯
_logger.LogTrace("å¼€å§‹å¤„ç†ç”¨æˆ·è¯·æ±‚: {RequestId}", requestId);

// âœ… Debug - è°ƒè¯•ä¿¡æ¯
_logger.LogDebug("æŸ¥è¯¢ç”¨æˆ·: {UserId}", userId);

// âœ… Information - ä¸€èˆ¬ä¿¡æ¯
_logger.LogInformation("ç”¨æˆ· {UserId} ç™»å½•æˆåŠŸ", userId);

// âœ… Warning - è­¦å‘Šä¿¡æ¯
_logger.LogWarning("ç”¨æˆ· {UserId} å¤šæ¬¡ç™»å½•å¤±è´¥", userId);

// âœ… Error - é”™è¯¯ä¿¡æ¯
_logger.LogError(ex, "å¤„ç†ç”¨æˆ·è¯·æ±‚å¤±è´¥: {RequestId}", requestId);

// âœ… Critical - ä¸¥é‡é”™è¯¯
_logger.LogCritical(ex, "ç³»ç»Ÿå…³é”®é”™è¯¯");
```

## ğŸ” å®‰å…¨è§„èŒƒ

### 1. è¾“å…¥éªŒè¯

```csharp
// âœ… ä½¿ç”¨æ•°æ®æ³¨è§£éªŒè¯
public class CreateUserRequest
{
    [Required(ErrorMessage = "ç”¨æˆ·åä¸èƒ½ä¸ºç©º")]
    [StringLength(50, MinimumLength = 3, ErrorMessage = "ç”¨æˆ·åé•¿åº¦å¿…é¡»åœ¨3-50ä¸ªå­—ç¬¦ä¹‹é—´")]
    [RegularExpression(@"^[a-zA-Z0-9_]+$", ErrorMessage = "ç”¨æˆ·ååªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿")]
    public string Username { get; set; } = string.Empty;
}

// âœ… ä½¿ç”¨ FluentValidation
public class CreateUserRequestValidator : AbstractValidator<CreateUserRequest>
{
    public CreateUserRequestValidator()
    {
        RuleFor(x => x.Username)
            .NotEmpty().WithMessage("ç”¨æˆ·åä¸èƒ½ä¸ºç©º")
            .Length(3, 50).WithMessage("ç”¨æˆ·åé•¿åº¦å¿…é¡»åœ¨3-50ä¸ªå­—ç¬¦ä¹‹é—´")
            .Matches(@"^[a-zA-Z0-9_]+$").WithMessage("ç”¨æˆ·ååªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿");
    }
}
```

### 2. æƒé™æ£€æŸ¥

```csharp
// âœ… ä½¿ç”¨ Authorize ç‰¹æ€§
[Authorize(Roles = "admin")]
[HttpDelete("{id}")]
public async Task<IActionResult> DeleteUser(string id)
{
    // å®ç°åˆ é™¤é€»è¾‘
}

// âœ… åœ¨æœåŠ¡å±‚æ£€æŸ¥æƒé™
public async Task<bool> DeleteUserAsync(string id)
{
    if (!IsAdmin())
        throw new UnauthorizedAccessException("éœ€è¦ç®¡ç†å‘˜æƒé™");
    
    // å®ç°åˆ é™¤é€»è¾‘
}
```

## ğŸ¯ æ€§èƒ½ä¼˜åŒ–è§„èŒƒ

### 1. å¼‚æ­¥æ“ä½œ

```csharp
// âœ… ä½¿ç”¨ async/await
public async Task<User> GetUserAsync(string id)
{
    return await _userFactory.GetByIdAsync(id);
}

// âœ… å¹¶è¡Œæ‰§è¡Œç‹¬ç«‹æ“ä½œ
public async Task<UserProfile> GetUserProfileAsync(string userId)
{
    var userTask = _userFactory.GetByIdAsync(userId);
    var rolesTask = _roleFactory.FindAsync(roleFilter);
    
    await Task.WhenAll(userTask, rolesTask);
    
    return new UserProfile
    {
        User = await userTask,
        Roles = await rolesTask
    };
}
```

### 2. æŸ¥è¯¢ä¼˜åŒ–

```csharp
// âœ… ä½¿ç”¨åˆ†é¡µæŸ¥è¯¢
var users = await _userFactory.FindPagedAsync(filter, skip: 0, limit: 20);

// âœ… åªæŸ¥è¯¢éœ€è¦çš„å­—æ®µ
var projection = Builders<User>.Projection
    .Include(u => u.Id)
    .Include(u => u.Username)
    .Include(u => u.Email);

// âœ… ä½¿ç”¨ç´¢å¼•ä¼˜åŒ–æŸ¥è¯¢
var filter = _userFactory.CreateFilterBuilder()
    .Equal(u => u.IsActive, true)  // ç¡®ä¿æœ‰ç´¢å¼•
    .Equal(u => u.CompanyId, companyId)  // ç¡®ä¿æœ‰å¤åˆç´¢å¼•
    .Build();
```

## ğŸ”§ ä¾èµ–æ³¨å…¥å’Œé…ç½®ç®¡ç†

### æœåŠ¡ç”Ÿå‘½å‘¨æœŸ

```csharp
// âœ… æ­£ç¡®çš„æœåŠ¡ç”Ÿå‘½å‘¨æœŸé€‰æ‹©
builder.Services.AddSingleton<IConfigurationService, ConfigurationService>();  // å•ä¾‹ï¼šé…ç½®æœåŠ¡
builder.Services.AddScoped<IUserService, UserService>();                      // ä½œç”¨åŸŸï¼šä¸šåŠ¡æœåŠ¡
builder.Services.AddTransient<IValidator, RequestValidator>();                // ç¬æ—¶ï¼šéªŒè¯å™¨
```

### æ¥å£ä¼˜å…ˆåŸåˆ™

```csharp
// âœ… æ¨èï¼šé¢å‘æ¥å£ç¼–ç¨‹
public interface IUserService
{
    Task<User> GetUserByIdAsync(string id);
    Task<User> CreateUserAsync(CreateUserRequest request);
}

public class UserService : IUserService
{
    // å®ç°
}

// æ³¨å†ŒæœåŠ¡
builder.Services.AddScoped<IUserService, UserService>();
```

### æœåŠ¡æ³¨å†Œæ¨¡å¼

```csharp
// âœ… è‡ªåŠ¨æœåŠ¡æ³¨å†Œï¼ˆæ¨èï¼‰
// Platform.ApiService/Extensions/ServiceRegistrationExtensions.cs
public static class ServiceRegistrationExtensions
{
    /// <summary>
    /// è‡ªåŠ¨æ³¨å†Œ Platform.ApiService.Services å‘½åç©ºé—´ä¸‹çš„æ‰€æœ‰æœåŠ¡
    /// </summary>
    /// <param name="services">æœåŠ¡é›†åˆ</param>
    /// <returns>æœåŠ¡é›†åˆ</returns>
    /// <remarks>
    /// é€šè¿‡åå°„è‡ªåŠ¨å‘ç°å¹¶æ³¨å†ŒæœåŠ¡ï¼š
    /// - æ‰«æå®ç°ç±»ï¼Œè‡ªåŠ¨æŸ¥æ‰¾å®ƒä»¬å®ç°çš„æ¥å£å¹¶æ³¨å†Œ
    /// - ä½¿ç”¨ IsInterface è¯†åˆ«æ¥å£ï¼Œä¸ä¾èµ–å‘½åçº¦å®šï¼ˆå¦‚ "I" å¼€å¤´ï¼‰
    /// - åŸºäºå®é™…çš„ç±»å‹å…³ç³»è¿›è¡Œæ³¨å†Œ
    /// - æ‰€æœ‰æœåŠ¡ä½¿ç”¨ Scoped ç”Ÿå‘½å‘¨æœŸæ³¨å†Œ
    /// </remarks>
    public static IServiceCollection AddBusinessServices(this IServiceCollection services)
    {
        var assembly = Assembly.GetExecutingAssembly();
        var servicesNamespace = typeof(IUserService).Namespace; // Platform.ApiService.Services
        
        // éå†æ‰€æœ‰å®ç°ç±»ï¼Œæ‰¾åˆ°å®ƒä»¬å®ç°çš„æ¥å£å¹¶æ³¨å†Œ
        foreach (var implementationType in assembly.GetTypes()
            .Where(t => t.IsClass 
                && !t.IsAbstract 
                && t.Namespace == servicesNamespace))
        {
            // æŸ¥æ‰¾å®ç°ç±»å®ç°çš„æ¥å£ï¼ˆåœ¨æŒ‡å®šå‘½åç©ºé—´ä¸‹ï¼Œä¸ä¾èµ–å‘½åçº¦å®šï¼‰
            var interfaceType = implementationType.GetInterfaces()
                .FirstOrDefault(i => i.IsInterface && i.Namespace == servicesNamespace);
            
            if (interfaceType != null)
            {
                services.AddScoped(interfaceType, implementationType);
            }
        }

        return services;
    }
}

// âœ… åœ¨ Program.cs ä¸­ä½¿ç”¨
builder.Services.AddBusinessServices(); // è‡ªåŠ¨æ³¨å†Œæ‰€æœ‰ä¸šåŠ¡æœåŠ¡

// âŒ ç¦æ­¢ï¼šæ‰‹åŠ¨é€ä¸ªæ³¨å†ŒæœåŠ¡
// builder.Services.AddScoped<IUserService, UserService>();
// builder.Services.AddScoped<IAuthService, AuthService>();
// ... æ›´å¤šæœåŠ¡
```

### MongoDB æ•°æ®è®¿é—®å·¥å‚æ³¨å†Œ

```csharp
// Platform.ServiceDefaults/Extensions/ServiceExtensions.cs
public static class ServiceExtensions
{
    /// <summary>
    /// æ³¨å†Œæ•°æ®åº“æ“ä½œå·¥å‚ï¼ˆè‡ªåŠ¨å¤„ç†å¤šç§Ÿæˆ·ã€è½¯åˆ é™¤ã€å®¡è®¡å­—æ®µï¼‰
    /// </summary>
    public static IServiceCollection AddDatabaseFactory(this IServiceCollection services)
    {
        services.AddScoped<IAuditService, AuditService>();
        services.AddScoped(typeof(IDatabaseOperationFactory<>), typeof(DatabaseOperationFactory<>));
        return services;
    }
}

// Program.cs
builder.Services.AddDatabaseFactory();
```

> `IDatabaseOperationFactory<T>` ä¼šæ³¨å…¥ç§Ÿæˆ·è¿‡æ»¤ã€è½¯åˆ é™¤è¿‡æ»¤ä¸å®¡è®¡å­—æ®µå¡«å……ï¼›ç¦æ­¢ç›´æ¥æ³¨å…¥ `IMongoCollection<T>`ã€‚

### é…ç½®ç®¡ç†

```csharp
// âœ… å¼ºç±»å‹é…ç½®
public class JwtSettings
{
    public string SecretKey { get; set; } = string.Empty;
    public string Issuer { get; set; } = string.Empty;
    public string Audience { get; set; } = string.Empty;
    public int ExpirationMinutes { get; set; } = 60;
    public int RefreshTokenExpirationDays { get; set; } = 7;
}

// æ³¨å†Œé…ç½®
builder.Services.Configure<JwtSettings>(builder.Configuration.GetSection("Jwt"));

// ä½¿ç”¨é…ç½®
public class JwtService : IJwtService
{
    private readonly JwtSettings _jwtSettings;
    
    public JwtService(IOptions<JwtSettings> jwtSettings)
    {
        _jwtSettings = jwtSettings.Value;
    }
}
```

### é€‰é¡¹æ¨¡å¼

```csharp
// âœ… é€‰é¡¹æ¨¡å¼å®ç°
public class DatabaseOptions
{
    public string ConnectionString { get; set; } = string.Empty;
    public string DatabaseName { get; set; } = string.Empty;
    public int MaxPoolSize { get; set; } = 100;
    public TimeSpan ConnectionTimeout { get; set; } = TimeSpan.FromSeconds(30);
}

// æ³¨å†Œé€‰é¡¹
builder.Services.Configure<DatabaseOptions>(
    builder.Configuration.GetSection("Database"));

// éªŒè¯é€‰é¡¹
builder.Services.AddOptions<DatabaseOptions>()
    .Bind(builder.Configuration.GetSection("Database"))
    .ValidateDataAnnotations()
    .ValidateOnStart();
```

### å·¥å‚æ¨¡å¼

```csharp
// âœ… æœåŠ¡å·¥å‚æ¨¡å¼
public interface IHttpClientFactory
{
    HttpClient CreateClient(string name);
}

public class CustomHttpClientFactory : IHttpClientFactory
{
    private readonly IHttpClientFactory _httpClientFactory;
    
    public CustomHttpClientFactory(IHttpClientFactory httpClientFactory)
    {
        _httpClientFactory = httpClientFactory;
    }
    
    public HttpClient CreateClient(string name)
    {
        var client = _httpClientFactory.CreateClient(name);
        // é…ç½®å®¢æˆ·ç«¯
        client.DefaultRequestHeaders.Add("User-Agent", "Platform-Client");
        return client;
    }
}

// æ³¨å†Œå·¥å‚
builder.Services.AddHttpClient();
builder.Services.AddScoped<IHttpClientFactory, CustomHttpClientFactory>();
```

### è£…é¥°å™¨æ¨¡å¼

```csharp
// âœ… è£…é¥°å™¨æ¨¡å¼å®ç°
public interface IUserService
{
    Task<User> GetUserByIdAsync(string id);
}

public class UserService : IUserService
{
    // åŸºç¡€å®ç°
}

public class CachedUserService : IUserService
{
    private readonly IUserService _userService;
    private readonly IMemoryCache _cache;
    
    public CachedUserService(IUserService userService, IMemoryCache cache)
    {
        _userService = userService;
        _cache = cache;
    }
    
    public async Task<User> GetUserByIdAsync(string id)
    {
        var cacheKey = $"user_{id}";
        if (_cache.TryGetValue(cacheKey, out User? cachedUser))
            return cachedUser!;
            
        var user = await _userService.GetUserByIdAsync(id);
        _cache.Set(cacheKey, user, TimeSpan.FromMinutes(5));
        return user;
    }
}

// æ³¨å†Œè£…é¥°å™¨
builder.Services.AddScoped<IUserService, UserService>();
builder.Services.Decorate<IUserService, CachedUserService>();
```

### ä¾èµ–æ³¨å…¥æœ€ä½³å®è·µ

```csharp
// âœ… è‡ªåŠ¨æ³¨å†ŒæœåŠ¡ï¼ˆå·²å®ç°ï¼‰
// ä½¿ç”¨ Platform.ApiService/Extensions/ServiceRegistrationExtensions.cs ä¸­çš„ AddBusinessServices æ–¹æ³•
// è¯¥æ–¹æ³•é€šè¿‡åå°„è‡ªåŠ¨æ‰«æå¹¶æ³¨å†Œæ‰€æœ‰æœåŠ¡ï¼Œä¸ä¾èµ–å‘½åçº¦å®š

// åœ¨ Program.cs ä¸­ä½¿ç”¨
builder.Services.AddBusinessServices(); // è‡ªåŠ¨æ³¨å†Œæ‰€æœ‰ä¸šåŠ¡æœåŠ¡

// âœ… æ¡ä»¶æ³¨å†ŒæœåŠ¡
if (builder.Environment.IsDevelopment())
{
    builder.Services.AddScoped<IDevelopmentService, DevelopmentService>();
}
else
{
    builder.Services.AddScoped<IProductionService, ProductionService>();
}

// âœ… å¥åº·æ£€æŸ¥æœåŠ¡æ³¨å†Œ
builder.Services.AddHealthChecks()
    .AddCheck<DatabaseHealthCheck>("database")
    .AddCheck<ExternalApiHealthCheck>("external-api");
```

### ä¾èµ–æ³¨å…¥ç¦æ­¢çš„åšæ³•

```csharp
// âŒ ç¦æ­¢ï¼šæœåŠ¡å®šä½å™¨æ¨¡å¼
public class UserController : ControllerBase
{
    public async Task<IActionResult> GetUser(string id)
    {
        var userService = HttpContext.RequestServices.GetService<IUserService>();
        // ä½¿ç”¨æœåŠ¡
    }
}

// âœ… æ­£ç¡®ï¼šæ„é€ å‡½æ•°æ³¨å…¥
public class UserController : ControllerBase
{
    private readonly IUserService _userService;
    
    public UserController(IUserService userService)
    {
        _userService = userService;
    }
}

// âŒ ç¦æ­¢ï¼šæ³¨å†Œå…·ä½“ç±»å‹
builder.Services.AddScoped<UserService>();

// âœ… æ­£ç¡®ï¼šæ³¨å†Œæ¥å£
builder.Services.AddScoped<IUserService, UserService>();

// âŒ ç¦æ­¢ï¼šä¸šåŠ¡æœåŠ¡ä½¿ç”¨å•ä¾‹
builder.Services.AddSingleton<IUserService, UserService>();

// âœ… æ­£ç¡®ï¼šä¸šåŠ¡æœåŠ¡ä½¿ç”¨ä½œç”¨åŸŸ
builder.Services.AddScoped<IUserService, UserService>();

// âŒ ç¦æ­¢ï¼šä¸éªŒè¯é…ç½®
builder.Services.Configure<JwtSettings>(builder.Configuration.GetSection("Jwt"));

// âœ… æ­£ç¡®ï¼šéªŒè¯é…ç½®
builder.Services.AddOptions<JwtSettings>()
    .Bind(builder.Configuration.GetSection("Jwt"))
    .ValidateDataAnnotations()
    .ValidateOnStart();
```

## ğŸ“‹ ä»£ç å®¡æŸ¥æ¸…å•

åœ¨æäº¤ä»£ç å‰ï¼Œæ£€æŸ¥ï¼š

### XML æ–‡æ¡£æ³¨é‡Šï¼ˆå¼ºåˆ¶è¦æ±‚ï¼‰
- [ ] **æ‰€æœ‰å…¬å…±ç±»éƒ½æœ‰å®Œæ•´çš„ XML æ³¨é‡Š**
- [ ] **æ‰€æœ‰å…¬å…±æ¥å£éƒ½æœ‰å®Œæ•´çš„ XML æ³¨é‡Š**
- [ ] **æ‰€æœ‰å…¬å…±æšä¸¾éƒ½æœ‰å®Œæ•´çš„ XML æ³¨é‡Šï¼ˆåŒ…æ‹¬æ¯ä¸ªæšä¸¾å€¼ï¼‰**
- [ ] **æ‰€æœ‰å…¬å…±æ–¹æ³•éƒ½æœ‰å®Œæ•´çš„ XML æ³¨é‡Šï¼ˆåŒ…æ‹¬å‚æ•°å’Œè¿”å›å€¼ï¼‰**
- [ ] **æ‰€æœ‰å…¬å…±å±æ€§éƒ½æœ‰ XML æ³¨é‡Š**
- [ ] **æ‰€æœ‰æ„é€ å‡½æ•°éƒ½æœ‰ XML æ³¨é‡Šï¼ˆåŒ…æ‹¬å‚æ•°ï¼‰**
- [ ] **æ‰€æœ‰æ³›å‹ç±»å‹éƒ½æœ‰ `<typeparam>` æ³¨é‡Š**
- [ ] **ç¼–è¯‘æ—¶æ²¡æœ‰ XML æ³¨é‡Šè­¦å‘Šï¼ˆCS1591ï¼‰**

### ä»£ç è´¨é‡
- [ ] æ‰€æœ‰æœåŠ¡éƒ½ä½¿ç”¨ `IDatabaseOperationFactory` è€Œä¸æ˜¯ `IMongoCollection`
- [ ] æ§åˆ¶å™¨ç»§æ‰¿ `BaseApiController` å¹¶ä½¿ç”¨å…¶æ–¹æ³•
- [ ] å¼‚å¸¸å¤„ç†ä½¿ç”¨æ ‡å‡†å¼‚å¸¸ç±»å‹å’Œç»“æ„åŒ–æ¶ˆæ¯
- [ ] æ—¥å¿—è®°å½•ä½¿ç”¨ç»“æ„åŒ–æ ¼å¼
- [ ] è¾“å…¥éªŒè¯ä½¿ç”¨æ•°æ®æ³¨è§£æˆ– FluentValidation
- [ ] æƒé™æ£€æŸ¥åœ¨æ§åˆ¶å™¨å’ŒæœåŠ¡å±‚éƒ½æœ‰
- [ ] å¼‚æ­¥æ“ä½œæ­£ç¡®ä½¿ç”¨ async/await
- [ ] æŸ¥è¯¢ä½¿ç”¨äº†é€‚å½“çš„ç´¢å¼•å’Œåˆ†é¡µ
- [ ] éµå¾ªäº†å‘½åè§„èŒƒå’Œé¡¹ç›®ç»“æ„
- [ ] ä½¿ç”¨ `AddBusinessServices()` è‡ªåŠ¨æ³¨å†ŒæœåŠ¡ï¼Œç¦æ­¢æ‰‹åŠ¨é€ä¸ªæ³¨å†Œ
- [ ] ä½¿ç”¨æ¥å£è€Œä¸æ˜¯å…·ä½“ç±»å‹è¿›è¡ŒæœåŠ¡æ³¨å†Œ
- [ ] é€‰æ‹©æ­£ç¡®çš„ç”Ÿå‘½å‘¨æœŸï¼ˆSingleton/Scoped/Transientï¼Œä¸šåŠ¡æœåŠ¡ä½¿ç”¨ Scopedï¼‰
- [ ] éªŒè¯é…ç½®é€‰é¡¹
- [ ] é¿å…å¾ªç¯ä¾èµ–
- [ ] ä½¿ç”¨ç»“æ„åŒ–æ—¥å¿—è®°å½•
- [ ] è®°å½•æ€§èƒ½æŒ‡æ ‡å’Œæ“ä½œæ—¥å¿—
- [ ] å®ç°å¥åº·æ£€æŸ¥
- [ ] ä¸­é—´ä»¶ä½¿ç”¨å¼‚æ­¥æ“ä½œé¿å…é˜»å¡
- [ ] åœ¨è¯·æ±‚çº¿ç¨‹ä¸­æå–æ•°æ®ï¼Œé¿å…åå°çº¿ç¨‹è®¿é—® HttpContext

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [C# åç«¯å¼€å‘è§„èŒƒ](mdc:.cursor/rules/csharp-backend.mdc)
- [åç«¯æ ¸å¿ƒå¼€å‘è§„èŒƒ](mdc:.cursor/rules/core-backend-standards.mdc)
- [OpenAPI + Scalar API æ–‡æ¡£è§„èŒƒ](mdc:.cursor/rules/openapi-scalar-standard.mdc)
- [é”™è¯¯å¤„ç†ä¸ç»Ÿä¸€å“åº”è§„èŒƒ](mdc:.cursor/rules/error-handling.mdc)
- [è‡ªåŠ¨æœåŠ¡æ³¨å†Œå®ç°](mdc:Platform.ApiService/Extensions/ServiceRegistrationExtensions.cs)
- [ç»Ÿä¸€å“åº”ä¸­é—´ä»¶](mdc:Platform.ApiService/Middleware/ResponseFormattingMiddleware.cs)
- [æœåŠ¡é»˜è®¤é…ç½®æ‰©å±•æ–¹æ³•](mdc:Platform.ServiceDefaults/Extensions/ServiceExtensions.cs)
- [Platform.ApiService Program](mdc:Platform.ApiService/Program.cs)
- [.NET ä¾èµ–æ³¨å…¥æ–‡æ¡£](https://learn.microsoft.com/aspnet/core/fundamentals/dependency-injection)
- [é…ç½®é€‰é¡¹æ¨¡å¼](https://learn.microsoft.com/aspnet/core/fundamentals/configuration/options)

## ğŸ¯ è®°ä½

1. **XML æ³¨é‡Šå¼ºåˆ¶è¦æ±‚** - æ‰€æœ‰å…¬å…±ç±»å‹å’Œæˆå‘˜å¿…é¡»æœ‰å®Œæ•´çš„ XML æ–‡æ¡£æ³¨é‡Šï¼Œè¿™æ˜¯å¼ºåˆ¶è¦æ±‚ï¼Œä¸å…è®¸ä¾‹å¤–
2. **ç»Ÿä¸€æ¶æ„** - éµå¾ªé¡¹ç›®æ—¢å®šçš„æ¶æ„æ¨¡å¼
3. **å®‰å…¨ç¬¬ä¸€** - å§‹ç»ˆéªŒè¯è¾“å…¥å’Œæ£€æŸ¥æƒé™
4. **æ€§èƒ½ä¼˜åŒ–** - ä½¿ç”¨å¼‚æ­¥æ“ä½œå’ŒæŸ¥è¯¢ä¼˜åŒ–
5. **é”™è¯¯å¤„ç†** - ä½¿ç”¨ç»Ÿä¸€çš„å¼‚å¸¸å¤„ç†æœºåˆ¶
6. **æ—¥å¿—è®°å½•** - è®°å½•å…³é”®æ“ä½œå’Œé”™è¯¯ä¿¡æ¯
7. **ä»£ç è´¨é‡** - ä¿æŒä»£ç ç®€æ´ã€å¯è¯»å’Œå¯ç»´æŠ¤

**âœ… é¡¹ç›®çŠ¶æ€**ï¼š
- æ‰€æœ‰ C# ä»£ç æ–‡ä»¶ï¼ˆ1082+ ä¸ªå…¬å…±æˆå‘˜ï¼‰å·²æ·»åŠ å®Œæ•´çš„ XML æ–‡æ¡£æ³¨é‡Š
- ç¼–è¯‘æ—¶æ—  CS1591 è­¦å‘Š
- æå‡äº†ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§
- Scalar API æ–‡æ¡£å¯ä»¥æ­£ç¡®æ˜¾ç¤ºæ‰€æœ‰æ¥å£è¯´æ˜

éµå¾ªè¿™äº›è§„èŒƒï¼Œç¡®ä¿ä»£ç çš„ä¸€è‡´æ€§ã€å®‰å…¨æ€§å’Œå¯ç»´æŠ¤æ€§ï¼