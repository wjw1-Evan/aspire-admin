---
alwaysApply: true
description: 文档组织与同步规范（docs 目录、命名、帮助内容更新）
---

# 文档组织与同步规范

> 本文件整合了原有的 `documentation-organization.mdc` 与 `sync-help-documentation.mdc`，用于统一说明文档的存放、命名以及代码变更后的同步要求。

---

## 1. 存放位置与分类

- **所有说明类 Markdown 文件必须存放在 `docs/` 目录下对应子目录**，禁止放在项目根目录或代码目录。
- 推荐分类：
  - `docs/features/` – 新功能说明
  - `docs/bugfixes/` – 问题排查与修复
  - `docs/optimization/` – 性能、体验优化
  - `docs/reports/` – 阶段总结与报告
  - `docs/permissions/`、`docs/middleware/`、`docs/refactoring/`、`docs/soft-delete/` 等专题目录
- 项目级 README 保留在根目录；特定模块自述文档可放在模块目录（如页面 README）。

---

## 2. 命名与结构

- 文件命名使用大写短横线风格，突出主题，例如：
  - `USER-PROFILE-FEATURE.md`
  - `TOKEN-EXPIRY-FIX.md`
  - `AUTH-SYSTEM-GUIDE.md`
- 文档推荐结构：
  1. 标题与更新时间
  2. 概述（背景、目标）
  3. 具体内容（实现、流程、配置）
  4. 使用说明或步骤
  5. 测试验证
  6. 相关链接或参考资料
- 更新或新增文档时，建议创建或维护文档索引（如 `docs/INDEX.md`）以便检索。

---

## 3. 代码变更后的同步要求

任何影响用户或开发者体验的代码修改，都必须同步更新相关文档和帮助内容。常见场景包括：

- **API 变更**：更新控制器 XML 注释、Scalar 文档、`docs/features/` 中的接口说明。
- **功能/流程调整**：管理后台或移动端页面发生变化时，更新帮助弹窗、教程或操作指南。
- **权限与菜单**：角色、权限、菜单行为发生变化，更新 `docs/permissions/`、帮助中心以及必要的管理员手册。
- **配置项**：新增或调整配置，更新 `docs/deployment/`、`.env` 示例与帮助文档。
- **数据模型与实体**：字段变更需更新说明文档、前端类型定义以及数据库相关文档。
- **问题修复或优化**：在 `docs/bugfixes/` 或 `docs/optimization/` 记录问题背景、解决方案与验证方式。

---

## 4. 推荐流程

1. **规划**：在开发前确定需要创建或更新的文档、帮助内容。
2. **实现**：代码与文档同步推进，必要时先在文档中标注“草稿”。
3. **验证**：完成功能后，按照文档步骤自测，确保描述准确。
4. **提交**：代码、文档、截图/录屏在同一个提交或 PR 内提交。
5. **维护**：更新 `docs/INDEX.md`，并在 README 或帮助中心中增加新的入口链接。

---

## 5. 审查清单

| 检查项 | 说明 |
|--------|------|
| 文档位置正确 | `docs/` 目录下按分类存放，无遗漏或错放 |
| 命名规范 | 文件名含主题信息，避免 `doc1.md`、`fix.md` 等无意义命名 |
| 内容更新 | 所有变更点在文档中有所体现，步骤、截图与代码一致 |
| 帮助同步 | 管理后台/移动端帮助中心与文档信息一致，无过期描述 |
| 索引维护 | 文档索引已更新（如存在），方便检索 |
| 提交一致 | 提交信息提及文档更新，便于代码审查 |

---

## 6. 常见问题

- ❌ 仅更新代码未同步文档：会导致帮助内容过期，影响使用体验。
- ❌ 文档存放在根目录：违反目录规范，难以检索与维护。
- ❌ 文档无示例或步骤：难以复现或理解变更，影响团队协作。
- ✅ 建议在 PR 模板中增加“是否更新文档/帮助”的复选项，提醒所有人保持同步。

---

## 📚 相关参考

- `docs/` – 文档目录（按分类存放）
- `Platform.Admin/src/components/HelpModal/` – 帮助中心组件示例
- `README.md` – 项目主文档

