---
appliesTo:
  - "Platform.App/**"
---

# 前端规则（Platform.App 移动端 / Expo）

## 路由与状态
- 遵循 React Navigation 规范，避免在组件中直接操作全局导航实例；封装导航辅助函数。
- 状态优先使用 hooks（`useState`、`useReducer`、`useContext` 或 `zustand` 等轻量方案），避免无序的全局单例。

## 数据请求
- 统一使用封装的请求客户端（与后台 `ApiResponse<T>` 格式对齐）；禁止在组件内直接使用裸 `fetch`。
- 所有接口调用需显式处理 loading/error 状态；避免静默失败。

## 多租户与认证
- 身份信息仅从登录态/存储获取，企业/权限信息以后端返回为准；禁止在前端硬编码企业 ID、角色或权限。
- 调用需要权限的接口时，保持与后端菜单级权限模型一致（只展示，不自行屏蔽关键按钮）。

## UI 与可用性
- 组件优先复用公共 UI 库（Expo/React Native 官方组件或项目内公共组件），减少自定义样式分叉。
- 表单与列表场景需处理空态、错误态与加载态；操作按钮需具备禁用/防抖保护。

## 错误与日志
- 捕获接口错误并展示可理解的提示，不暴露底层异常。
- 重要操作（登录、关键表单提交）应按既有埋点/日志方案记录（如已有 hooks/服务请复用）。
