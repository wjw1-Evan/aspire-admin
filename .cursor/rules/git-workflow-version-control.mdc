---
description: Git å·¥ä½œæµå’Œç‰ˆæœ¬æ§åˆ¶è§„èŒƒ
globs: *.md,*.txt,.gitignore,.gitattributes
---

# Git å·¥ä½œæµå’Œç‰ˆæœ¬æ§åˆ¶è§„èŒƒ

## ğŸ¯ æ ¸å¿ƒåŸåˆ™

**ä½¿ç”¨è§„èŒƒçš„ Git å·¥ä½œæµï¼Œç¡®ä¿ä»£ç è´¨é‡å’Œå›¢é˜Ÿåä½œæ•ˆç‡**

## ğŸŒ¿ åˆ†æ”¯ç­–ç•¥

### Git Flow å·¥ä½œæµ
```bash
# âœ… æ­£ç¡®ï¼šåˆ†æ”¯ç»“æ„
main                    # ç”Ÿäº§ç¯å¢ƒåˆ†æ”¯
â”œâ”€â”€ develop            # å¼€å‘ç¯å¢ƒåˆ†æ”¯
â”œâ”€â”€ feature/user-auth  # åŠŸèƒ½åˆ†æ”¯
â”œâ”€â”€ hotfix/critical-bug # çƒ­ä¿®å¤åˆ†æ”¯
â””â”€â”€ release/v1.2.0     # å‘å¸ƒåˆ†æ”¯
```

### åˆ†æ”¯å‘½åè§„èŒƒ
```bash
# âœ… æ­£ç¡®ï¼šåˆ†æ”¯å‘½å
feature/user-authentication    # åŠŸèƒ½åˆ†æ”¯
bugfix/login-error-handling    # Bug ä¿®å¤åˆ†æ”¯
hotfix/security-vulnerability # çƒ­ä¿®å¤åˆ†æ”¯
release/v1.2.0                 # å‘å¸ƒåˆ†æ”¯
chore/update-dependencies      # ç»´æŠ¤åˆ†æ”¯
docs/api-documentation         # æ–‡æ¡£åˆ†æ”¯
```

### åˆ†æ”¯åˆ›å»ºå’Œåˆ‡æ¢
```bash
# âœ… æ­£ç¡®ï¼šåˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout develop
git pull origin develop
git checkout -b feature/user-profile-management

# âœ… æ­£ç¡®ï¼šåˆ›å»ºçƒ­ä¿®å¤åˆ†æ”¯
git checkout main
git pull origin main
git checkout -b hotfix/critical-security-issue
```

## ğŸ“ æäº¤ä¿¡æ¯è§„èŒƒ

### æäº¤ä¿¡æ¯æ ¼å¼
```bash
# âœ… æ­£ç¡®ï¼šæäº¤ä¿¡æ¯æ ¼å¼
<type>(<scope>): <subject>

<body>

<footer>
```

### æäº¤ç±»å‹
```bash
# âœ… æ­£ç¡®çš„æäº¤ç±»å‹
feat:     æ–°åŠŸèƒ½
fix:      Bug ä¿®å¤
docs:     æ–‡æ¡£æ›´æ–°
style:    ä»£ç æ ¼å¼è°ƒæ•´ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰
refactor: ä»£ç é‡æ„
test:     æµ‹è¯•ç›¸å…³
chore:    æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨
perf:     æ€§èƒ½ä¼˜åŒ–
ci:       CI/CD ç›¸å…³
build:    æ„å»ºç³»ç»Ÿæˆ–å¤–éƒ¨ä¾èµ–çš„å˜åŠ¨
```

### æäº¤ç¤ºä¾‹
```bash
# âœ… æ­£ç¡®ï¼šåŠŸèƒ½æäº¤
feat(auth): æ·»åŠ ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½

- å®ç°ç”¨æˆ·æ³¨å†Œ API ç«¯ç‚¹
- æ·»åŠ é‚®ç®±éªŒè¯åŠŸèƒ½
- é›†æˆ JWT è®¤è¯
- æ·»åŠ å¯†ç å¼ºåº¦éªŒè¯

Closes #123

# âœ… æ­£ç¡®ï¼šBug ä¿®å¤æäº¤
fix(user): ä¿®å¤ç”¨æˆ·åˆ—è¡¨åˆ†é¡µé—®é¢˜

ä¿®å¤ç”¨æˆ·åˆ—è¡¨åœ¨ç¬¬äºŒé¡µåæ— æ³•æ­£ç¡®æ˜¾ç¤ºçš„é—®é¢˜ã€‚
é—®é¢˜åŸå› ï¼šåˆ†é¡µå‚æ•°ä¼ é€’é”™è¯¯ã€‚

Fixes #456

# âœ… æ­£ç¡®ï¼šæ–‡æ¡£æäº¤
docs(api): æ›´æ–° API æ–‡æ¡£

- æ·»åŠ ç”¨æˆ·ç®¡ç† API æ–‡æ¡£
- æ›´æ–°è®¤è¯æµç¨‹è¯´æ˜
- æ·»åŠ é”™è¯¯ç å¯¹ç…§è¡¨

# âœ… æ­£ç¡®ï¼šé‡æ„æäº¤
refactor(service): é‡æ„ç”¨æˆ·æœåŠ¡å±‚

- æå–ç”¨æˆ·éªŒè¯é€»è¾‘åˆ°ç‹¬ç«‹æœåŠ¡
- ç®€åŒ–ç”¨æˆ·åˆ›å»ºæµç¨‹
- æé«˜ä»£ç å¯æµ‹è¯•æ€§

# âœ… æ­£ç¡®ï¼šæ€§èƒ½ä¼˜åŒ–æäº¤
perf(database): ä¼˜åŒ–ç”¨æˆ·æŸ¥è¯¢æ€§èƒ½

- æ·»åŠ ç”¨æˆ·è¡¨å¤åˆç´¢å¼•
- ä¼˜åŒ–åˆ†é¡µæŸ¥è¯¢ SQL
- å‡å°‘æ•°æ®åº“è¿æ¥æ•°

æ€§èƒ½æå‡ï¼šæŸ¥è¯¢æ—¶é—´ä» 200ms é™ä½åˆ° 50ms
```

## ğŸ”„ å·¥ä½œæµç¨‹

### åŠŸèƒ½å¼€å‘æµç¨‹
```bash
# 1. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout develop
git pull origin develop
git checkout -b feature/user-profile-management

# 2. å¼€å‘åŠŸèƒ½
git add .
git commit -m "feat(user): æ·»åŠ ç”¨æˆ·èµ„æ–™ç¼–è¾‘åŠŸèƒ½"

# 3. æ¨é€åˆ†æ”¯
git push origin feature/user-profile-management

# 4. åˆ›å»º Pull Request
# åœ¨ GitHub/GitLab ä¸Šåˆ›å»º PRï¼Œç›®æ ‡åˆ†æ”¯ä¸º develop

# 5. ä»£ç å®¡æŸ¥å’Œåˆå¹¶
# å®¡æŸ¥é€šè¿‡åï¼Œåˆå¹¶åˆ° develop åˆ†æ”¯
```

### Bug ä¿®å¤æµç¨‹
```bash
# 1. åˆ›å»º Bug ä¿®å¤åˆ†æ”¯
git checkout develop
git pull origin develop
git checkout -b bugfix/login-validation-error

# 2. ä¿®å¤ Bug
git add .
git commit -m "fix(auth): ä¿®å¤ç™»å½•éªŒè¯é”™è¯¯å¤„ç†"

# 3. æ¨é€åˆ†æ”¯
git push origin bugfix/login-validation-error

# 4. åˆ›å»º Pull Request
# ç›®æ ‡åˆ†æ”¯ä¸º develop
```

### çƒ­ä¿®å¤æµç¨‹
```bash
# 1. åˆ›å»ºçƒ­ä¿®å¤åˆ†æ”¯
git checkout main
git pull origin main
git checkout -b hotfix/critical-security-issue

# 2. ä¿®å¤é—®é¢˜
git add .
git commit -m "fix(security): ä¿®å¤å…³é”®å®‰å…¨æ¼æ´"

# 3. æ¨é€åˆ†æ”¯
git push origin hotfix/critical-security-issue

# 4. åˆ›å»º Pull Request
# ç›®æ ‡åˆ†æ”¯ä¸º main

# 5. åˆå¹¶åˆ° main åï¼ŒåŒæ­¥åˆ° develop
git checkout develop
git merge main
git push origin develop
```

## ğŸ“‹ Pull Request è§„èŒƒ

### PR æ ‡é¢˜æ ¼å¼
```markdown
# âœ… æ­£ç¡®ï¼šPR æ ‡é¢˜æ ¼å¼
feat(user): æ·»åŠ ç”¨æˆ·èµ„æ–™ç®¡ç†åŠŸèƒ½
fix(auth): ä¿®å¤ç™»å½•éªŒè¯é—®é¢˜
docs(api): æ›´æ–° API æ–‡æ¡£
refactor(service): é‡æ„ç”¨æˆ·æœåŠ¡å±‚
```

### PR æè¿°æ¨¡æ¿
```markdown
## ğŸ“‹ å˜æ›´æ¦‚è¿°
ç®€è¦æè¿°æœ¬æ¬¡å˜æ›´çš„å†…å®¹å’Œç›®çš„

## âœ¨ å˜æ›´å†…å®¹
- [ ] æ–°å¢åŠŸèƒ½ï¼šç”¨æˆ·èµ„æ–™ç¼–è¾‘
- [ ] ä¿®å¤é—®é¢˜ï¼šç™»å½•éªŒè¯é”™è¯¯å¤„ç†
- [ ] æ€§èƒ½ä¼˜åŒ–ï¼šæ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–
- [ ] æ–‡æ¡£æ›´æ–°ï¼šAPI æ¥å£æ–‡æ¡£

## ğŸ”§ æŠ€æœ¯ç»†èŠ‚
è¯¦ç»†è¯´æ˜æŠ€æœ¯å®ç°æ–¹æ¡ˆ

## ğŸ§ª æµ‹è¯•éªŒè¯
- [ ] å•å…ƒæµ‹è¯•é€šè¿‡
- [ ] é›†æˆæµ‹è¯•é€šè¿‡
- [ ] æ‰‹åŠ¨æµ‹è¯•éªŒè¯
- [ ] æ€§èƒ½æµ‹è¯•é€šè¿‡

## ğŸ“¸ æˆªå›¾/æ¼”ç¤º
å¦‚æœæœ‰ UI å˜æ›´ï¼Œè¯·æä¾›æˆªå›¾æˆ–æ¼”ç¤º

## ğŸ”— ç›¸å…³é“¾æ¥
- ç›¸å…³ Issue: #123
- ç›¸å…³æ–‡æ¡£: [API æ–‡æ¡£](link)
- è®¾è®¡ç¨¿: [Figma é“¾æ¥](link)

## âœ… æ£€æŸ¥æ¸…å•
- [ ] ä»£ç ç¬¦åˆé¡¹ç›®è§„èŒƒ
- [ ] æ·»åŠ äº†å¿…è¦çš„æµ‹è¯•
- [ ] æ›´æ–°äº†ç›¸å…³æ–‡æ¡£
- [ ] é€šè¿‡äº†ä»£ç å®¡æŸ¥
- [ ] æ²¡æœ‰ç ´åæ€§å˜æ›´
```

## ğŸ” ä»£ç å®¡æŸ¥è§„èŒƒ

### å®¡æŸ¥è¦ç‚¹
```markdown
## ğŸ¯ ä»£ç è´¨é‡
- [ ] ä»£ç ç¬¦åˆé¡¹ç›®ç¼–ç è§„èŒƒ
- [ ] å‡½æ•°å’Œç±»èŒè´£å•ä¸€
- [ ] å˜é‡å’Œå‡½æ•°å‘½åæ¸…æ™°
- [ ] æ²¡æœ‰é‡å¤ä»£ç 
- [ ] é”™è¯¯å¤„ç†å®Œå–„

## ğŸ”’ å®‰å…¨æ€§
- [ ] è¾“å…¥éªŒè¯å®Œæ•´
- [ ] æƒé™æ£€æŸ¥æ­£ç¡®
- [ ] æ•æ„Ÿä¿¡æ¯ä¿æŠ¤
- [ ] SQL æ³¨å…¥é˜²æŠ¤
- [ ] XSS é˜²æŠ¤

## ğŸ—ï¸ æ¶æ„è®¾è®¡
- [ ] ç¬¦åˆé¡¹ç›®æ¶æ„åŸåˆ™
- [ ] ä¾èµ–å…³ç³»åˆç†
- [ ] æ¥å£è®¾è®¡æ¸…æ™°
- [ ] æ‰©å±•æ€§è‰¯å¥½
- [ ] å¯æµ‹è¯•æ€§å¼º

## ğŸ“š æ–‡æ¡£å’Œæµ‹è¯•
- [ ] ä»£ç æ³¨é‡Šå®Œæ•´
- [ ] API æ–‡æ¡£æ›´æ–°
- [ ] å•å…ƒæµ‹è¯•è¦†ç›–
- [ ] é›†æˆæµ‹è¯•é€šè¿‡
- [ ] ç”¨æˆ·æ–‡æ¡£æ›´æ–°
```

### å®¡æŸ¥æµç¨‹
```bash
# 1. å®¡æŸ¥è€…æ£€æŸ¥ä»£ç 
# 2. æå‡ºä¿®æ”¹å»ºè®®
# 3. å¼€å‘è€…ä¿®æ”¹ä»£ç 
# 4. é‡æ–°å®¡æŸ¥
# 5. å®¡æŸ¥é€šè¿‡ååˆå¹¶
```

## ğŸ·ï¸ ç‰ˆæœ¬æ ‡ç­¾è§„èŒƒ

### è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶
```bash
# âœ… æ­£ç¡®ï¼šç‰ˆæœ¬å·æ ¼å¼
MAJOR.MINOR.PATCH

# ç¤ºä¾‹
1.0.0    # åˆå§‹ç‰ˆæœ¬
1.1.0    # æ–°åŠŸèƒ½
1.1.1    # Bug ä¿®å¤
2.0.0    # ç ´åæ€§å˜æ›´
```

### æ ‡ç­¾åˆ›å»º
```bash
# âœ… æ­£ç¡®ï¼šåˆ›å»ºç‰ˆæœ¬æ ‡ç­¾
git tag -a v1.2.0 -m "Release version 1.2.0"
git push origin v1.2.0

# âœ… æ­£ç¡®ï¼šåˆ›å»ºé¢„å‘å¸ƒæ ‡ç­¾
git tag -a v1.3.0-beta.1 -m "Beta release 1.3.0-beta.1"
git push origin v1.3.0-beta.1
```

## ğŸ”§ Git é…ç½®

### å…¨å±€é…ç½®
```bash
# âœ… æ­£ç¡®ï¼šGit å…¨å±€é…ç½®
git config --global user.name "Your Name"
git config --global user.email "your.email@example.com"
git config --global core.editor "code --wait"
git config --global init.defaultBranch main
git config --global pull.rebase false
```

### é¡¹ç›®é…ç½®
```bash
# âœ… æ­£ç¡®ï¼šé¡¹ç›®ç‰¹å®šé…ç½®
git config user.name "Project Name"
git config user.email "project@example.com"
git config core.autocrlf input  # Windows
git config core.autocrlf false # Linux/Mac
```

### .gitignore é…ç½®
```gitignore
# âœ… æ­£ç¡®ï¼š.gitignore é…ç½®
# ä¾èµ–æ–‡ä»¶
node_modules/
packages/*/node_modules/

# æ„å»ºè¾“å‡º
dist/
build/
out/

# ç¯å¢ƒé…ç½®
.env
.env.local
.env.development.local
.env.test.local
.env.production.local

# æ—¥å¿—æ–‡ä»¶
*.log
logs/

# ä¸´æ—¶æ–‡ä»¶
*.tmp
*.temp
.DS_Store
Thumbs.db

# IDE é…ç½®
.vscode/
.idea/
*.swp
*.swo

# æµ‹è¯•è¦†ç›–ç‡
coverage/
.nyc_output/

# æ•°æ®åº“æ–‡ä»¶
*.db
*.sqlite
*.sqlite3
```

### .gitattributes é…ç½®
```gitattributes
# âœ… æ­£ç¡®ï¼š.gitattributes é…ç½®
# æ–‡æœ¬æ–‡ä»¶
*.cs text eol=crlf
*.ts text eol=lf
*.tsx text eol=lf
*.js text eol=lf
*.jsx text eol=lf
*.json text eol=lf
*.md text eol=lf

# äºŒè¿›åˆ¶æ–‡ä»¶
*.png binary
*.jpg binary
*.jpeg binary
*.gif binary
*.ico binary
*.pdf binary

# è¯­è¨€æ£€æµ‹
*.cs linguist-language=C#
*.ts linguist-language=TypeScript
*.tsx linguist-language=TypeScript
```

## ğŸš€ è‡ªåŠ¨åŒ–å·¥ä½œæµ

### GitHub Actions é…ç½®
```yaml
# âœ… æ­£ç¡®ï¼šCI/CD å·¥ä½œæµ
name: CI/CD Pipeline

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main, develop ]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      
      - name: Setup .NET
        uses: actions/setup-dotnet@v3
        with:
          dotnet-version: '9.0.x'
      
      - name: Restore dependencies
        run: dotnet restore
      
      - name: Build
        run: dotnet build --no-restore
      
      - name: Test
        run: dotnet test --no-build --verbosity normal

  frontend-test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '18'
          cache: 'npm'
      
      - name: Install dependencies
        run: npm ci
      
      - name: Run tests
        run: npm test
      
      - name: Run linting
        run: npm run lint
```

## ğŸ“‹ Git å·¥ä½œæµæ£€æŸ¥æ¸…å•

### å¼€å‘å‰
- [ ] ç¡®ä¿æœ¬åœ°ä»£ç æ˜¯æœ€æ–°çš„
- [ ] åˆ›å»ºåˆé€‚çš„åˆ†æ”¯
- [ ] éµå¾ªåˆ†æ”¯å‘½åè§„èŒƒ

### å¼€å‘ä¸­
- [ ] é¢‘ç¹æäº¤ï¼Œä¿æŒæäº¤åŸå­æ€§
- [ ] ç¼–å†™æ¸…æ™°çš„æäº¤ä¿¡æ¯
- [ ] éµå¾ªä»£ç è§„èŒƒ

### æäº¤å‰
- [ ] è¿è¡Œæµ‹è¯•ç¡®ä¿é€šè¿‡
- [ ] æ£€æŸ¥ä»£ç è´¨é‡
- [ ] æ›´æ–°ç›¸å…³æ–‡æ¡£

### åˆå¹¶å‰
- [ ] åˆ›å»º Pull Request
- [ ] é€šè¿‡ä»£ç å®¡æŸ¥
- [ ] è§£å†³æ‰€æœ‰å†²çª
- [ ] ç¡®ä¿ CI/CD é€šè¿‡

## ğŸ“š ç›¸å…³èµ„æº

- [Git å®˜æ–¹æ–‡æ¡£](https://git-scm.com/doc)
- [GitHub Flow](https://guides.github.com/introduction/flow/)
- [è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶](https://semver.org/lang/zh-CN/)
- [çº¦å®šå¼æäº¤](https://www.conventionalcommits.org/zh-hans/)

## ğŸ¯ è®°ä½

**è‰¯å¥½çš„ Git å·¥ä½œæµæ˜¯å›¢é˜Ÿåä½œçš„åŸºç¡€**

- ä¿æŒæäº¤ä¿¡æ¯æ¸…æ™°å’Œä¸€è‡´
- ä½¿ç”¨åˆé€‚çš„åˆ†æ”¯ç­–ç•¥
- é‡è§†ä»£ç å®¡æŸ¥è¿‡ç¨‹
- éµå¾ªç‰ˆæœ¬æ§åˆ¶è§„èŒƒ
- æŒç»­æ”¹è¿›å·¥ä½œæµç¨‹
