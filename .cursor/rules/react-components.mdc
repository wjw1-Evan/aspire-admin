---
globs: *.tsx,*.jsx
description: React ç»„ä»¶å¼€å‘è§„èŒƒå’Œæœ€ä½³å®è·µ
---

# React ç»„ä»¶å¼€å‘è§„èŒƒ

## ğŸ¯ ç»„ä»¶è®¾è®¡åŸåˆ™

### ç»„ä»¶ç»“æ„
```typescript
// âœ… æ¨èï¼šæ ‡å‡†çš„ç»„ä»¶ç»“æ„
import React from 'react';
import { Button, Card } from 'antd';
import type { UserCardProps } from './types';

export default function UserCard({ user, onEdit }: UserCardProps) {
  // 1. Hooks
  const [loading, setLoading] = useState(false);
  
  // 2. äº‹ä»¶å¤„ç†å‡½æ•°
  const handleEdit = useCallback(() => {
    onEdit?.(user);
  }, [user, onEdit]);
  
  // 3. æ¸²æŸ“é€»è¾‘
  return (
    <Card>
      <h3>{user.name}</h3>
      <Button onClick={handleEdit}>ç¼–è¾‘</Button>
    </Card>
  );
}
```

### Props è®¾è®¡
```typescript
// âœ… æ¨èï¼šæ˜ç¡®çš„ Props æ¥å£
interface UserCardProps {
  readonly user: User;
  readonly onEdit?: (user: User) => void;
  readonly onDelete?: (userId: string) => void;
  readonly loading?: boolean;
  readonly className?: string;
}
```

## ğŸ¨ æ ·å¼è§„èŒƒ

### ä¸»é¢˜åŒ–ç»„ä»¶
åœ¨ç§»åŠ¨ç«¯åº”ç”¨ä¸­ä½¿ç”¨ä¸»é¢˜åŒ–ç»„ä»¶ï¼š

```typescript
// âœ… æ¨èï¼šä½¿ç”¨ä¸»é¢˜åŒ–ç»„ä»¶
import { ThemedText, ThemedView, ThemedButton } from '@/components';

export default function ProfileScreen() {
  const backgroundColor = useThemeColor({}, 'background');
  
  return (
    <ThemedView style={{ backgroundColor }}>
      <ThemedText type="title">ä¸ªäººä¸­å¿ƒ</ThemedText>
      <ThemedButton title="ç¼–è¾‘èµ„æ–™" />
    </ThemedView>
  );
}
```

### æ ·å¼ç»„ç»‡
```typescript
// âœ… æ¨èï¼šä½¿ç”¨ StyleSheet
const styles = StyleSheet.create({
  container: {
    flex: 1,
    padding: 16,
  },
  title: {
    fontSize: 18,
    fontWeight: 'bold',
    marginBottom: 16,
  },
});
```

## ğŸ”„ çŠ¶æ€ç®¡ç†

### æœ¬åœ°çŠ¶æ€
```typescript
// âœ… æ¨èï¼šä½¿ç”¨ useState å’Œ useCallback
function UserForm() {
  const [formData, setFormData] = useState<UserFormData>({
    name: '',
    email: '',
  });
  
  const handleSubmit = useCallback(async () => {
    try {
      await submitUser(formData);
      message.success('ä¿å­˜æˆåŠŸ');
    } catch (error) {
      message.error('ä¿å­˜å¤±è´¥');
    }
  }, [formData]);
}
```

### å…¨å±€çŠ¶æ€
```typescript
// âœ… æ¨èï¼šä½¿ç”¨ Context è¿›è¡Œä¸»é¢˜ç®¡ç†
const { themeMode, setThemeMode, isDark } = useTheme();
```

## ğŸ“± ç§»åŠ¨ç«¯ç‰¹å®šè§„èŒƒ

### å¯¼èˆª
```typescript
// âœ… æ¨èï¼šä½¿ç”¨ Expo Router
import { router } from 'expo-router';

const navigateToProfile = () => {
  router.push('/profile');
};
```

### å¹³å°é€‚é…
```typescript
// âœ… æ¨èï¼šä½¿ç”¨ Platform è¿›è¡Œå¹³å°é€‚é…
import { Platform } from 'react-native';

const styles = StyleSheet.create({
  container: {
    paddingTop: Platform.OS === 'ios' ? 44 : 24,
  },
});
```

## ğŸš« é¿å…çš„åšæ³•

- ä¸è¦ç›´æ¥ä¿®æ”¹ props
- ä¸è¦ä½¿ç”¨ `componentWillMount` ç­‰å·²åºŸå¼ƒçš„ç”Ÿå‘½å‘¨æœŸ
- ä¸è¦å¿˜è®°æ·»åŠ  `key` å±æ€§åˆ°åˆ—è¡¨é¡¹
- ä¸è¦åœ¨å†…è”å‡½æ•°ä¸­åˆ›å»ºå¯¹è±¡æˆ–æ•°ç»„
- ä¸è¦å¿˜è®°æ¸…ç†å‰¯ä½œç”¨ï¼ˆuseEffect çš„æ¸…ç†å‡½æ•°ï¼‰

## ğŸ”§ æ€§èƒ½ä¼˜åŒ–

### è®°å¿†åŒ–
```typescript
// âœ… æ¨èï¼šä½¿ç”¨ useMemo å’Œ useCallback
const expensiveValue = useMemo(() => {
  return computeExpensiveValue(data);
}, [data]);

const handleClick = useCallback(() => {
  onItemClick(item.id);
}, [item.id, onItemClick]);
```

### æ‡’åŠ è½½
```typescript
// âœ… æ¨èï¼šä½¿ç”¨ React.lazy è¿›è¡Œä»£ç åˆ†å‰²
const UserManagement = lazy(() => import('./UserManagement'));
```