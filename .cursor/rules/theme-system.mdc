---
globs: **/theme*.ts,**/theme*.tsx,**/Themed*.tsx
description: ä¸»é¢˜ç³»ç»Ÿä½¿ç”¨æŒ‡å—å’Œè§„èŒƒ
---

# ä¸»é¢˜ç³»ç»Ÿä½¿ç”¨æŒ‡å—

## ğŸ¨ ä¸»é¢˜æ¶æ„

### æ ¸å¿ƒç»„ä»¶
- **ThemeContext** - å…¨å±€ä¸»é¢˜çŠ¶æ€ç®¡ç†
- **ThemedText** - ä¸»é¢˜åŒ–æ–‡å­—ç»„ä»¶
- **ThemedView** - ä¸»é¢˜åŒ–è§†å›¾ç»„ä»¶
- **ThemedInput** - ä¸»é¢˜åŒ–è¾“å…¥æ¡†ç»„ä»¶
- **ThemedButton** - ä¸»é¢˜åŒ–æŒ‰é’®ç»„ä»¶

### ä¸»é¢˜æ¨¡å¼
1. **æµ…è‰²æ¨¡å¼** - å§‹ç»ˆä½¿ç”¨æµ…è‰²ä¸»é¢˜
2. **æ·±è‰²æ¨¡å¼** - å§‹ç»ˆä½¿ç”¨æ·±è‰²ä¸»é¢˜
3. **è·Ÿéšç³»ç»Ÿ** - æ ¹æ®ç³»ç»Ÿè®¾ç½®è‡ªåŠ¨åˆ‡æ¢ï¼ˆé»˜è®¤ï¼‰

## ğŸ¯ ä½¿ç”¨è§„èŒƒ

### åŸºç¡€ç”¨æ³•
```typescript
// âœ… æ¨èï¼šä½¿ç”¨ä¸»é¢˜åŒ–ç»„ä»¶
import { ThemedText, ThemedView, ThemedButton } from '@/components';

export default function MyScreen() {
  return (
    <ThemedView style={styles.container}>
      <ThemedText type="title">æ ‡é¢˜</ThemedText>
      <ThemedText type="subtitle">å‰¯æ ‡é¢˜</ThemedText>
      <ThemedButton title="æŒ‰é’®" />
    </ThemedView>
  );
}
```

### è·å–ä¸»é¢˜çŠ¶æ€
```typescript
// âœ… æ¨èï¼šä½¿ç”¨ä¸»é¢˜ Hook
import { useTheme } from '@/contexts/ThemeContext';
import { useThemeColor } from '@/hooks/use-theme-color';

export default function MyComponent() {
  const { themeMode, setThemeMode, isDark, toggleTheme } = useTheme();
  const backgroundColor = useThemeColor({}, 'background');
  const textColor = useThemeColor({}, 'text');
  
  return (
    <View style={{ backgroundColor }}>
      <Text style={{ color: textColor }}>ä¸»é¢˜åŒ–æ–‡å­—</Text>
    </View>
  );
}
```

### ä¸»é¢˜åˆ‡æ¢ç»„ä»¶
```typescript
// âœ… æ¨èï¼šä½¿ç”¨ä¸»é¢˜åˆ‡æ¢ç»„ä»¶
import { ThemeToggle, ThemeSelector } from '@/components';

// å¿«é€Ÿåˆ‡æ¢æŒ‰é’®
<ThemeToggle size="medium" />

// å®Œæ•´ä¸»é¢˜é€‰æ‹©å™¨ï¼ˆæ¨¡æ€å¼¹çª—ï¼‰
<ThemeSelector />
```

## ğŸ¨ é¢œè‰²ç³»ç»Ÿ

### æ™®é²å£«è“è‰²ç³»
é¡¹ç›®ä½¿ç”¨æ™®é²å£«è“è‰²ç³»ä½œä¸ºä¸»è‰²è°ƒï¼š

```typescript
// constants/theme.ts
export const Colors = {
  light: {
    text: '#1A1A1A',           // æ·±é»‘è‰²æ–‡å­—
    background: '#F5F7FA',     // æµ…ç°è“èƒŒæ™¯
    tint: '#003A6B',           // æ™®é²å£«è“
    card: '#FFFFFF',           // çº¯ç™½å¡ç‰‡
    border: '#D1D9E0',         // æ™®é²å£«è“æµ…è¾¹æ¡†
  },
  dark: {
    text: '#F1F5F9',           // æµ…ç°ç™½æ–‡å­—
    background: '#0F172A',     // æ·±æ™®é²å£«è“èƒŒæ™¯
    tint: '#4A90E2',           // æ™®é²å£«è“æµ…è‰²
    card: '#1E293B',           // æ™®é²å£«è“æ·±å¡ç‰‡
    border: '#334155',         // æ™®é²å£«è“æ·±è¾¹æ¡†
  },
};
```

### çŠ¶æ€é¢œè‰²
```typescript
// ç³»ç»ŸçŠ¶æ€é¢œè‰²
success: '#10B981',    // ç¿ ç»¿è‰²
warning: '#F59E0B',    // ç¥ç€è‰²
error: '#EF4444',      // çº¢è‰²
info: '#3B82F6',       // è“è‰²
```

## ğŸ”§ ç»„ä»¶å¼€å‘

### åˆ›å»ºä¸»é¢˜åŒ–ç»„ä»¶
```typescript
// âœ… æ¨èï¼šåˆ›å»ºæ–°çš„ä¸»é¢˜åŒ–ç»„ä»¶
import { useThemeColor } from '@/hooks/use-theme-color';

interface ThemedCardProps {
  readonly children: React.ReactNode;
  readonly style?: ViewStyle;
}

export function ThemedCard({ children, style }: ThemedCardProps) {
  const backgroundColor = useThemeColor({}, 'card');
  const borderColor = useThemeColor({}, 'border');
  
  return (
    <View style={[
      {
        backgroundColor,
        borderColor,
        borderWidth: 1,
        borderRadius: 8,
        padding: 16,
      },
      style
    ]}>
      {children}
    </View>
  );
}
```

### çŠ¶æ€æ é€‚é…
```typescript
// âœ… æ¨èï¼šçŠ¶æ€æ ä¸»é¢˜é€‚é…
import { StatusBar } from 'expo-status-bar';
import { useTheme } from '@/contexts/ThemeContext';

export default function App() {
  const { isDark } = useTheme();
  
  return (
    <>
      <StatusBar style={isDark ? 'light' : 'dark'} />
      {/* åº”ç”¨å†…å®¹ */}
    </>
  );
}
```

## ğŸ“± é¡µé¢é€‚é…

### å®Œæ•´é¡µé¢ä¸»é¢˜åŒ–
```typescript
// âœ… æ¨èï¼šå®Œæ•´é¡µé¢ä¸»é¢˜åŒ–ç¤ºä¾‹
export default function ProfileScreen() {
  const backgroundColor = useThemeColor({}, 'background');
  const cardBackgroundColor = useThemeColor({}, 'card');
  const borderColor = useThemeColor({}, 'border');
  
  return (
    <ThemedView style={[styles.container, { backgroundColor }]}>
      <ThemedView style={[styles.section, { backgroundColor: cardBackgroundColor }]}>
        <ThemedText type="subtitle" style={[styles.sectionTitle, { borderBottomColor: borderColor }]}>
          ç”¨æˆ·ä¿¡æ¯
        </ThemedText>
        {/* å†…å®¹ */}
      </ThemedView>
    </ThemedView>
  );
}
```

## ğŸš« é¿å…çš„åšæ³•

- ä¸è¦ç¡¬ç¼–ç é¢œè‰²å€¼
- ä¸è¦å¿˜è®°é€‚é…æ·±è‰²æ¨¡å¼
- ä¸è¦å¿½ç•¥çŠ¶æ€æ æ ·å¼
- ä¸è¦å¿˜è®°æµ‹è¯•æ‰€æœ‰ä¸»é¢˜æ¨¡å¼
- ä¸è¦ä½¿ç”¨ä¸å…¼å®¹çš„é¢œè‰²ç»„åˆ

## ğŸ”„ ä¸»é¢˜åˆ‡æ¢

### æŒä¹…åŒ–å­˜å‚¨
ä¸»é¢˜åå¥½ä¼šè‡ªåŠ¨ä¿å­˜åˆ° AsyncStorageï¼Œåº”ç”¨é‡å¯åä¼šæ¢å¤ç”¨æˆ·é€‰æ‹©ã€‚

### ç³»ç»Ÿä¸»é¢˜æ£€æµ‹
```typescript
// âœ… æ¨èï¼šæ£€æµ‹ç³»ç»Ÿä¸»é¢˜å˜åŒ–
import { useColorScheme } from 'react-native';

const systemColorScheme = useColorScheme();
// å½“ç”¨æˆ·é€‰æ‹©"è·Ÿéšç³»ç»Ÿ"æ—¶ï¼Œä¼šè‡ªåŠ¨å“åº”ç³»ç»Ÿä¸»é¢˜å˜åŒ–
```

## ğŸ¯ æœ€ä½³å®è·µ

1. **å§‹ç»ˆä½¿ç”¨ä¸»é¢˜åŒ–ç»„ä»¶** - ç¡®ä¿æ‰€æœ‰ UI å…ƒç´ éƒ½èƒ½æ­£ç¡®é€‚é…ä¸»é¢˜
2. **æµ‹è¯•æ‰€æœ‰ä¸»é¢˜æ¨¡å¼** - ç¡®ä¿åœ¨æµ…è‰²ã€æ·±è‰²å’Œè·Ÿéšç³»ç»Ÿæ¨¡å¼ä¸‹éƒ½æ­£å¸¸æ˜¾ç¤º
3. **ä¿æŒé¢œè‰²ä¸€è‡´æ€§** - ä½¿ç”¨é¢„å®šä¹‰çš„é¢œè‰²ç³»ç»Ÿï¼Œé¿å…éšæ„æ·»åŠ æ–°é¢œè‰²
4. **è€ƒè™‘å¯è®¿é—®æ€§** - ç¡®ä¿é¢œè‰²å¯¹æ¯”åº¦ç¬¦åˆå¯è®¿é—®æ€§æ ‡å‡†
5. **æ€§èƒ½ä¼˜åŒ–** - ä½¿ç”¨ useMemo ç¼“å­˜ä¸»é¢˜ç›¸å…³çš„è®¡ç®—