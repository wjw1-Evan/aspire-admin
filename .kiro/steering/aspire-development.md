---
alwaysApply: true
---

# Aspire 开发规范

## 项目启动规范

### 统一启动命令
- **测试环境启动**: `aspire run`
- **实际运行启动**: `aspire run`
- **开发调试启动**: `aspire run`

### 核心原则
所有开发、测试和实际运行都必须使用 `aspire run` 命令启动项目。这确保了：

1. **环境一致性**: 开发、测试、生产环境使用相同的启动方式
2. **服务编排**: Aspire 自动管理所有服务的启动顺序和依赖关系
3. **配置统一**: 所有服务配置通过 AppHost 统一管理
4. **监控集成**: 内置的仪表板提供统一的监控和日志查看

### 禁止的启动方式
- ❌ 直接运行单个项目 (`dotnet run`)
- ❌ 使用 IDE 的单独启动功能
- ❌ 手动启动多个服务
- ❌ 使用 docker-compose 或其他编排工具

### AppHost 项目
- **主机项目**: `Platform.AppHost`
- **配置文件**: `Platform.AppHost/Program.cs`
- **服务注册**: 所有服务都在 AppHost 中注册和配置

### 开发工作流
1. 修改代码后，使用 `aspire run` 启动项目
2. 通过 Aspire 仪表板查看服务状态和日志
3. 测试功能时，确保所有服务都通过 Aspire 运行
4. 部署前，验证 `aspire run` 能正常启动所有服务

### 仪表板访问
- Aspire 启动后会提供仪表板 URL
- 通过仪表板可以查看所有服务的状态、日志和监控信息
- 仪表板是调试和监控的主要工具

### 注意事项
- 确保 .NET Aspire 工具链已正确安装
- 项目根目录必须包含 `Platform.AppHost` 项目
- 所有服务配置和依赖关系都在 AppHost 中定义
- 使用 Ctrl+C 停止 Aspire 应用主机

这个规范确保了整个团队使用一致的开发和部署流程，避免了环境差异导致的问题。