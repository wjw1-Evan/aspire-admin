<view class="container">
  <view class="login-box">
    <view class="header">
      <image class="logo" src="/assets/logo.png" mode="aspectFit"></image>
      <view class="title-group">
        <text class="title">通用数据平台</text>
        <text class="subtitle">让管理更高效，让数据更有价值</text>
      </view>
    </view>

    <view class="form">
      <view class="input-item">
        <view class="input-label">{{t['login.username']}}</view>
        <input 
          class="input" 
          placeholder="{{t['login.username']}}" 
          placeholder-class="placeholder"
          bindinput="onUsernameInput" 
          value="{{username}}"
        />
      </view>
      
      <view class="input-item">
        <view class="input-label">{{t['login.password']}}</view>
        <input 
          class="input" 
          password 
          placeholder="{{t['login.password']}}" 
          placeholder-class="placeholder"
          bindinput="onPasswordInput" 
          value="{{password}}"
        />
      </view>

      <view class="input-item" wx:if="{{showCaptcha}}">
        <view class="input-label">{{t['login.captcha']}}</view>
        <view class="captcha-box">
          <input 
            class="input captcha-input" 
            placeholder="{{t['login.captcha']}}" 
            placeholder-class="placeholder"
            bindinput="onCaptchaInput" 
            value="{{captchaAnswer}}"
          />
          <image class="captcha-img" src="{{captchaUrl}}" bindtap="fetchCaptcha" mode="aspectFit"></image>
        </view>
      </view>

      <button 
        class="login-btn {{loading ? 'btn-loading' : ''}}" 
        bindtap="handleLogin" 
        loading="{{loading}}"
        disabled="{{loading}}"
      >
        {{t['login.submit']}}
      </button>
      
      <view class="extra-actions">
        <text class="action-text">{{t['login.forgot']}}</text>
        <text class="action-text">{{t['login.register']}}</text>
      </view>
    </view>
  </view>

  <view class="footer">
    <text class="footer-copy">© 2026 融众信息技术</text>
  </view>
</view>
