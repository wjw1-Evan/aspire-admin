<view class="container">
  <view class="stats-section" wx:if="{{stats.asset}}">
    <view class="section-header">
      <text class="iconfont icon-asset"></text>
      <text class="section-title">{{t['park.stats.asset_overview']}}</text>
    </view>
    <view class="stats-grid">
      <view class="stats-card">
        <text class="stats-value">{{stats.asset.totalBuildings || 0}}</text>
        <text class="stats-label">{{t['park.stats.total_buildings']}}</text>
      </view>
      <view class="stats-card">
        <text class="stats-value">{{stats.asset.occupancyRate || 0}}%</text>
        <text class="stats-label">{{t['park.stats.occupancy_rate']}}</text>
      </view>
      <view class="stats-card">
        <text class="stats-value">{{stats.asset.totalArea || 0}}㎡</text>
        <text class="stats-label">{{t['park.stats.total_area']}}</text>
      </view>
    </view>
  </view>

  <view class="stats-section" wx:if="{{stats.investment}}">
    <view class="section-header">
      <text class="iconfont icon-investment"></text>
      <text class="section-title">{{t['park.stats.investment_overview']}}</text>
    </view>
    <view class="stats-grid">
      <view class="stats-card">
        <text class="stats-value">{{stats.investment.totalLeads || 0}}</text>
        <text class="stats-label">{{t['park.stats.total_leads']}}</text>
      </view>
      <view class="stats-card">
        <text class="stats-value">{{stats.investment.activeProjects || 0}}</text>
        <text class="stats-label">{{t['park.stats.active_projects']}}</text>
      </view>
      <view class="stats-card">
        <text class="stats-value">{{stats.investment.conversionRate || 0}}%</text>
        <text class="stats-label">{{t['park.stats.conversion_rate']}}</text>
      </view>
    </view>
  </view>

  <view class="stats-section" wx:if="{{stats.tenant}}">
    <view class="section-header">
      <text class="iconfont icon-tenant"></text>
      <text class="section-title">{{t['park.stats.tenant_overview']}}</text>
    </view>
    <view class="stats-grid">
      <view class="stats-card">
        <text class="stats-value">{{stats.tenant.totalTenants || 0}}</text>
        <text class="stats-label">{{t['park.stats.total_tenants']}}</text>
      </view>
      <view class="stats-card">
        <text class="stats-value">¥{{stats.tenant.totalRent || 0}}</text>
        <text class="stats-label">{{t['park.stats.total_rent']}}</text>
      </view>
      <view class="stats-card">
        <text class="stats-value">{{stats.tenant.collectionRate || 0}}%</text>
        <text class="stats-label">{{t['park.stats.collection_rate']}}</text>
      </view>
    </view>
  </view>

  <view class="ai-report-section">
    <view class="ai-header">
      <text class="iconfont icon-ai"></text>
      <text class="ai-title">{{t['park.stats.ai_report_title']}}</text>
      <button class="ai-btn" bindtap="generateAiReport" loading="{{generatingAi}}" disabled="{{generatingAi}}">
        {{aiReport ? t['park.stats.update_report'] : t['park.stats.generate_report']}}
      </button>
    </view>
    <view class="ai-content" wx:if="{{aiReport}}">
      <text class="report-text">{{aiReport}}</text>
    </view>
    <view class="ai-empty" wx:else>
      <text>{{t['park.stats.ai_empty']}}</text>
    </view>
  </view>

  <view class="loading-overlay" wx:if="{{loading}}">
    <view class="loading"></view>
  </view>
</view>
