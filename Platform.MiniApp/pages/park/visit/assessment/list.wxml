<view class="container">
  <view class="search-bar">
    <view class="search-box">
      <icon class="search-icon" type="search" size="14"></icon>
      <input class="search-input" placeholder="{{t['searchPlaceholder']}}" bindinput="onSearchInput" value="{{search}}" />
    </view>
  </view>

  <view class="list-container">
    <block wx:if="{{assessments.length > 0}}">
      <view class="biz-card" wx:for="{{assessments}}" wx:key="id" bindtap="goToDetail" data-id="{{item.id}}">
        <view class="section-header">
          <text class="section-title">{{item.taskDescription}}</text>
          <view class="score-badge {{item.score >= 80 ? 'score-high' : item.score >= 60 ? 'score-medium' : 'score-low'}}">
            {{item.score}}
          </view>
        </view>
        <view class="card-body">
          <view class="info-row">
            <text class="label">{{t['visitTask']}}</text>
            <text class="value">{{item.visitorName}}</text>
          </view>
          <view class="info-row">
            <text class="label">{{t['date']}}</text>
            <text class="value">{{item.createdAt}}</text>
          </view>
          <view class="comment-box" wx:if="{{item.comments}}">
            <text class="text">{{item.comments}}</text>
          </view>
        </view>
      </view>
    </block>

    <!-- Empty State -->
    <view class="empty-wrap" wx:else>
      <view class="iconfont icon-empty" style="font-size: 120rpx; color: #eee;"></view>
      <text>{{t['empty']}}</text>
    </view>

    <!-- Loading State -->
    <view class="loading-wrap" wx:if="{{loading}}">
      <view class="loading"></view>
      <text>{{t['loading']}}</text>
    </view>

    <!-- No More Data -->
    <view class="no-more" wx:if="{{!hasMore && assessments.length > 0}}">
      {{t['noMore']}}
    </view>
  </view>
</view>
