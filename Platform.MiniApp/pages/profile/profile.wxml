<view class="container">
  <!-- Profile Header -->
  <view class="profile-card">
      <view class="user-block">
        <image class="avatar" src="{{userInfo.avatar || '/assets/logo.png'}}" mode="aspectFill" bindtap="handleAvatarTap"></image>
        <view class="info">
          <text class="nickname">{{userInfo.name || t['profile.not_logged_in']}}</text>
          <view class="tag-group">
            <text class="role-tag" wx:for="{{userInfo.roles}}" wx:key="*this">{{item}}</text>
            <text class="status-tag" wx:if="{{userInfo.roles.length > 0}}">{{t['profile.active']}}</text>
          </view>
        </view>
      </view>
      <!-- Current Company Info -->
      <view class="company-info" wx:if="{{currentCompany}}" bindtap="handleSwitchCompany">
        <view class="company-header">
          <text class="company-name">{{currentCompany.companyName}}</text>
          <view class="company-badges">
            <text class="badge current-badge">{{t['profile.current_company']}}</text>
            <text class="badge admin-badge" wx:if="{{currentCompany.isAdmin}}">{{t['profile.admin_label']}}</text>
          </view>
        </view>
        <text class="iconfont icon-arrow-right arrow"></text>
      </view>
  </view>

  <!-- Menu Groups -->
  <view class="menu-group card-style">
    <view class="menu-item" bindtap="navigateToEdit">
      <view class="item-left">
        <text class="iconfont icon-profile icon"></text>
        <text class="label">{{t['profile.account']}}</text>
      </view>
      <text class="iconfont icon-arrow-right arrow"></text>
    </view>
    <view class="menu-item" bindtap="navigateToPassword">
      <view class="item-left">
        <text class="iconfont icon-password icon"></text>
        <text class="label">{{t['profile.security']}}</text>
      </view>
      <text class="iconfont icon-arrow-right arrow"></text>
    </view>
  </view>

  <view class="menu-group card-style">
    <view class="menu-item" bindtap="aboutUs">
      <view class="item-left">
        <text class="iconfont icon-info icon"></text>
        <text class="label">{{t['profile.about']}}</text>
      </view>
      <text class="iconfont icon-arrow-right arrow"></text>
    </view>
    <view class="menu-item" bindtap="navigateToSettings">
      <view class="item-left">
        <text class="iconfont icon-settings icon"></text>
        <text class="label">{{t['settings.title']}}</text>
      </view>
      <text class="iconfont icon-arrow-right arrow"></text>
    </view>
  </view>

  <view class="logout-section">
    <button class="logout-btn" bindtap="handleLogout">{{t['profile.logout']}}</button>
    <text class="version-text">{{t['profile.version_text']}}</text>
  </view>
</view>
