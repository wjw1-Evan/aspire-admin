# æµ‹è¯•ä»£ç ç§»é™¤æ€»ç»“æŠ¥å‘Š

## ğŸ“‹ æ¦‚è¿°

**æ‰§è¡Œæ—¶é—´**: 2025-01-16  
**æ“ä½œç±»å‹**: æµ‹è¯•ä»£ç æ¸…ç†  
**å½±å“èŒƒå›´**: å‰ç«¯æµ‹è¯•æ–‡ä»¶ã€é…ç½®ã€æ–‡æ¡£  
**çŠ¶æ€**: âœ… å®Œæˆ

## ğŸ—‘ï¸ å·²ç§»é™¤çš„æ–‡ä»¶

### 1. æµ‹è¯•æ–‡ä»¶å’Œç›®å½•
- âœ… `Platform.Admin/src/pages/user/login/login.test.tsx` - ç™»å½•é¡µé¢æµ‹è¯•æ–‡ä»¶
- âœ… `Platform.Admin/src/pages/user/login/__snapshots__/` - æµ‹è¯•å¿«ç…§ç›®å½•
- âœ… `Platform.Admin/tests/setupTests.jsx` - æµ‹è¯•é…ç½®æ–‡ä»¶

### 2. æµ‹è¯•é…ç½®æ–‡ä»¶
- âœ… `Platform.Admin/jest.config.ts` - Jest æµ‹è¯•é…ç½®

### 3. æµ‹è¯•è„šæœ¬æ–‡ä»¶
- âœ… `test-captcha.sh` - éªŒè¯ç æµ‹è¯•è„šæœ¬
- âœ… `test-image-captcha.sh` - å›¾å½¢éªŒè¯ç æµ‹è¯•è„šæœ¬
- âœ… `test-welcome-activities.md` - æ¬¢è¿é¡µé¢æ´»åŠ¨æµ‹è¯•æ–‡æ¡£

### 4. æµ‹è¯•ç›¸å…³æ–‡æ¡£
- âœ… `docs/features/MULTI-TENANT-TESTING-GUIDE.md` - å¤šç§Ÿæˆ·æµ‹è¯•æŒ‡å—
- âœ… `docs/reports/SECURITY-TESTING-GUIDE.md` - å®‰å…¨æµ‹è¯•æŒ‡å—
- âœ… `docs/archived/permissions-v5/CRUD-PERMISSION-TEST-GUIDE.md` - CRUDæƒé™æµ‹è¯•æŒ‡å—
- âœ… `.cursor/rules/testing-standards.mdc` - æµ‹è¯•è§„èŒƒè§„åˆ™

## ğŸ”§ å·²ä¿®æ”¹çš„æ–‡ä»¶

### 1. package.json æ¸…ç†
**æ–‡ä»¶**: `Platform.Admin/package.json`

**ç§»é™¤çš„è„šæœ¬**:
- `jest` - Jest æµ‹è¯•å‘½ä»¤
- `test` - æµ‹è¯•å‘½ä»¤
- `test:coverage` - æµ‹è¯•è¦†ç›–ç‡å‘½ä»¤
- `test:update` - æ›´æ–°æµ‹è¯•å¿«ç…§å‘½ä»¤
- `record` - æµ‹è¯•å½•åˆ¶å‘½ä»¤

**ç§»é™¤çš„ä¾èµ–åŒ…**:
- `@testing-library/dom` - DOM æµ‹è¯•åº“
- `@testing-library/react` - React æµ‹è¯•åº“
- `@types/jest` - Jest ç±»å‹å®šä¹‰
- `jest` - Jest æµ‹è¯•æ¡†æ¶
- `jest-environment-jsdom` - Jest DOM ç¯å¢ƒ

### 2. ä»£ç†é…ç½®æ¸…ç†
**æ–‡ä»¶**: `Platform.Admin/config/proxy.ts`

**ç§»é™¤çš„é…ç½®**:
- `test` ç¯å¢ƒä»£ç†é…ç½®ï¼ˆæŒ‡å‘å¤–éƒ¨æµ‹è¯• APIï¼‰

### 3. æ–‡æ¡£ç´¢å¼•æ›´æ–°
**æ–‡ä»¶**: `docs/INDEX.md`

**ç§»é™¤çš„å¼•ç”¨**:
- å®‰å…¨æµ‹è¯•æŒ‡å—é“¾æ¥
- å¤šç§Ÿæˆ·æµ‹è¯•æŒ‡å—é“¾æ¥

## ğŸ“Š æ¸…ç†ç»Ÿè®¡

| ç±»åˆ« | ç§»é™¤æ•°é‡ | è¯´æ˜ |
|---|---|---|
| **æµ‹è¯•æ–‡ä»¶** | 3 | ç™»å½•æµ‹è¯•ã€å¿«ç…§ã€é…ç½® |
| **æµ‹è¯•è„šæœ¬** | 3 | Shell è„šæœ¬å’Œ Markdown |
| **æµ‹è¯•æ–‡æ¡£** | 4 | åŠŸèƒ½æµ‹è¯•å’Œå®‰å…¨æµ‹è¯•æŒ‡å— |
| **é…ç½®æ–‡ä»¶** | 2 | Jest é…ç½®å’Œä»£ç†é…ç½® |
| **ä¾èµ–åŒ…** | 5 | æµ‹è¯•ç›¸å…³çš„ npm åŒ… |
| **è„šæœ¬å‘½ä»¤** | 5 | package.json ä¸­çš„æµ‹è¯•å‘½ä»¤ |

## âœ… ä¿ç•™çš„æ–‡ä»¶

ä»¥ä¸‹æ–‡ä»¶è¢«ä¿ç•™ï¼Œå› ä¸ºå®ƒä»¬ä¸æ˜¯æµ‹è¯•ä»£ç ï¼š

### UmiJS è‡ªåŠ¨ç”Ÿæˆæ–‡ä»¶
- `Platform.Admin/src/.umi/testBrowser.tsx` - UmiJS è‡ªåŠ¨ç”Ÿæˆ
- `Platform.Admin/src/.umi-production/testBrowser.tsx` - UmiJS è‡ªåŠ¨ç”Ÿæˆ

### .NET NuGet æ–‡ä»¶
- `Platform.ApiService/obj/*.nuget.dgspec.json` - NuGet ä¾èµ–æ–‡ä»¶
- `Platform.AppHost/obj/*.nuget.dgspec.json` - NuGet ä¾èµ–æ–‡ä»¶
- `Platform.ServiceDefaults/obj/*.nuget.dgspec.json` - NuGet ä¾èµ–æ–‡ä»¶
- `Platform.DataInitializer/obj/*.nuget.dgspec.json` - NuGet ä¾èµ–æ–‡ä»¶

### ä¸šåŠ¡ç›¸å…³æ–‡ä»¶
- `Platform.Admin/src/typings.d.ts` - ç±»å‹å®šä¹‰æ–‡ä»¶ï¼ˆåŒ…å« `test` ç¯å¢ƒç±»å‹ï¼‰
- `Platform.Admin/config/proxy.ts` - ä»£ç†é…ç½®ï¼ˆä¿ç•™ `dev` å’Œ `pre` ç¯å¢ƒï¼‰

## ğŸ¯ æ¸…ç†æ•ˆæœ

### 1. é¡¹ç›®ç»“æ„ç®€åŒ–
- ç§»é™¤äº†æ‰€æœ‰æµ‹è¯•ç›¸å…³çš„æ–‡ä»¶å’Œé…ç½®
- å‡å°‘äº†é¡¹ç›®ä¾èµ–åŒ…æ•°é‡
- ç®€åŒ–äº† package.json è„šæœ¬å‘½ä»¤

### 2. æ–‡æ¡£æ•´ç†
- ç§»é™¤äº†æµ‹è¯•æŒ‡å—å’Œæµ‹è¯•ç›¸å…³æ–‡æ¡£
- æ›´æ–°äº†æ–‡æ¡£ç´¢å¼•ï¼Œç§»é™¤æµ‹è¯•ç›¸å…³å¼•ç”¨
- ä¿æŒäº†æ–‡æ¡£ç»“æ„çš„ä¸€è‡´æ€§

### 3. é…ç½®æ¸…ç†
- ç§»é™¤äº† Jest æµ‹è¯•é…ç½®
- æ¸…ç†äº†ä»£ç†é…ç½®ä¸­çš„æµ‹è¯•ç¯å¢ƒ
- ç§»é™¤äº†æµ‹è¯•ç›¸å…³çš„ npm è„šæœ¬

## ğŸ” éªŒè¯æ–¹æ³•

### 1. æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å·²ç§»é™¤
```bash
# æ£€æŸ¥æµ‹è¯•æ–‡ä»¶
find . -name "*test*" -type f | grep -v node_modules | grep -v .git
# åº”è¯¥åªæ˜¾ç¤º UmiJS è‡ªåŠ¨ç”Ÿæˆçš„æ–‡ä»¶

# æ£€æŸ¥æµ‹è¯•é…ç½®
ls Platform.Admin/jest.config.ts
# åº”è¯¥æ˜¾ç¤º "No such file or directory"
```

### 2. æ£€æŸ¥ä¾èµ–åŒ…
```bash
cd Platform.Admin
npm list | grep -E "(jest|testing)"
# åº”è¯¥æ²¡æœ‰è¾“å‡º
```

### 3. æ£€æŸ¥è„šæœ¬å‘½ä»¤
```bash
cd Platform.Admin
npm run --silent
# åº”è¯¥ä¸åŒ…å« testã€jest ç­‰æµ‹è¯•å‘½ä»¤
```

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [é¡¹ç›®ç»“æ„æŒ‡å—](README.md)
- [æ–‡æ¡£ç»„ç»‡è§„èŒƒ](docs/INDEX.md)
- [ä»£ç å®¡æŸ¥å’Œè´¨é‡ä¿è¯è§„èŒƒ](.cursor/rules/code-review-quality.mdc)

## ğŸ¯ æ€»ç»“

æœ¬æ¬¡æµ‹è¯•ä»£ç ç§»é™¤æ“ä½œæˆåŠŸæ¸…ç†äº†é¡¹ç›®ä¸­çš„æ‰€æœ‰æµ‹è¯•ç›¸å…³æ–‡ä»¶å’Œé…ç½®ï¼ŒåŒ…æ‹¬ï¼š

1. **æµ‹è¯•æ–‡ä»¶**: ç§»é™¤äº† 3 ä¸ªæµ‹è¯•æ–‡ä»¶å’Œç›®å½•
2. **æµ‹è¯•è„šæœ¬**: ç§»é™¤äº† 3 ä¸ªæµ‹è¯•è„šæœ¬æ–‡ä»¶
3. **æµ‹è¯•æ–‡æ¡£**: ç§»é™¤äº† 4 ä¸ªæµ‹è¯•ç›¸å…³æ–‡æ¡£
4. **é…ç½®æ–‡ä»¶**: ç§»é™¤äº† 2 ä¸ªæµ‹è¯•é…ç½®æ–‡ä»¶
5. **ä¾èµ–åŒ…**: ç§»é™¤äº† 5 ä¸ªæµ‹è¯•ç›¸å…³çš„ npm åŒ…
6. **è„šæœ¬å‘½ä»¤**: ç§»é™¤äº† 5 ä¸ªæµ‹è¯•ç›¸å…³çš„ npm è„šæœ¬

é¡¹ç›®ç°åœ¨æ›´åŠ ç®€æ´ï¼Œä¸“æ³¨äºç”Ÿäº§ä»£ç ï¼Œæ²¡æœ‰æµ‹è¯•ç›¸å…³çš„å†—ä½™æ–‡ä»¶å’Œé…ç½®ã€‚æ‰€æœ‰æ¸…ç†æ“ä½œéƒ½å·²å®Œæˆï¼Œé¡¹ç›®å¯ä»¥æ­£å¸¸è¿è¡Œã€‚
